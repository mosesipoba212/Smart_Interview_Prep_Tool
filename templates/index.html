<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Interview Prep</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background: #000;
            color: #f5f5f7;
            line-height: 1.4;
            overflow-x: hidden;
        }
        
        /* Navigation */
        .nav {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: 48px;
            background: rgba(0, 0, 0, 0.92);
            backdrop-filter: saturate(180%) blur(20px);
            border-bottom: 0.5px solid rgba(255, 255, 255, 0.1);
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .nav-content {
            max-width: 980px;
            width: 100%;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 22px;
        }
        
        .nav-logo {
            font-size: 21px;
            font-weight: 600;
            color: #f5f5f7;
            text-decoration: none;
        }
        
        .nav-items {
            display: flex;
            gap: 36px;
        }
        
        .nav-item {
            font-size: 12px;
            color: #f5f5f7;
            text-decoration: none;
            font-weight: 400;
            letter-spacing: -0.01em;
            transition: color 0.3s ease;
        }
        
        .nav-item:hover {
            color: #06c;
        }
        
        /* Hero Section */
        .hero {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            background: radial-gradient(ellipse at center, #1a1a1a 0%, #000 70%);
            padding: 48px 40px 0;
        }
        
        .hero-title {
            font-size: clamp(48px, 7vw, 96px);
            font-weight: 600;
            line-height: 1.05;
            letter-spacing: -0.015em;
            margin-bottom: 24px;
            background: linear-gradient(135deg, #f5f5f7 0%, #86868b 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .hero-subtitle {
            font-size: 28px;
            font-weight: 400;
            line-height: 1.1;
            letter-spacing: 0.004em;
            margin-bottom: 12px;
            color: #a1a1a6;
        }
        
        .hero-description {
            font-size: 21px;
            font-weight: 400;
            line-height: 1.381;
            letter-spacing: 0.011em;
            margin-bottom: 40px;
            color: #86868b;
            max-width: 700px;
        }
        
        .hero-buttons {
            display: flex;
            gap: 20px;
            margin-bottom: 60px;
            flex-wrap: wrap;
            justify-content: center;
        }
        
        /* Buttons */
        .btn-primary {
            background: #0071e3;
            color: #fff;
            border: none;
            border-radius: 980px;
            padding: 12px 24px;
            font-size: 17px;
            font-weight: 400;
            letter-spacing: -0.022em;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
            min-width: 120px;
        }
        
        .btn-primary:hover {
            background: #0077ed;
            transform: translateY(-1px);
        }
        
        .btn-secondary {
            background: transparent;
            color: #0071e3;
            border: 2px solid #0071e3;
            border-radius: 980px;
            padding: 10px 22px;
            font-size: 17px;
            font-weight: 400;
            letter-spacing: -0.022em;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
            min-width: 120px;
        }
        
        .btn-secondary:hover {
            background: #0071e3;
            color: #fff;
            transform: translateY(-1px);
        }
        
        /* Feature Cards */
        .features {
            padding: 120px 40px;
            max-width: 1440px;
            margin: 0 auto;
        }
        
        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 40px;
            margin-top: 80px;
        }
        
        .feature-card {
            background: rgba(255, 255, 255, 0.02);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 18px;
            padding: 40px 32px;
            text-align: center;
            transition: all 0.4s ease;
            backdrop-filter: blur(20px);
        }
        
        .feature-card:hover {
            background: rgba(255, 255, 255, 0.04);
            border-color: rgba(255, 255, 255, 0.2);
            transform: translateY(-8px);
        }
        
        .feature-icon {
            font-size: 48px;
            margin-bottom: 24px;
            display: block;
        }
        
        .feature-title {
            font-size: 28px;
            font-weight: 600;
            line-height: 1.1;
            letter-spacing: 0.004em;
            margin-bottom: 16px;
            color: #f5f5f7;
        }
        
        .feature-description {
            font-size: 17px;
            font-weight: 400;
            line-height: 1.5;
            letter-spacing: -0.022em;
            color: #86868b;
            margin-bottom: 24px;
        }
        
        /* Dashboard Section */
        .dashboard {
            padding: 120px 40px;
            background: rgba(255, 255, 255, 0.01);
        }
        
        .dashboard-container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .section-title {
            font-size: 48px;
            font-weight: 600;
            line-height: 1.08;
            letter-spacing: -0.003em;
            text-align: center;
            margin-bottom: 60px;
            color: #f5f5f7;
        }
        
        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 32px;
        }
        
        .dashboard-card {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 32px;
            transition: all 0.3s ease;
        }
        
        .dashboard-card:hover {
            background: rgba(255, 255, 255, 0.05);
            transform: translateY(-4px);
        }
        
        .card-title {
            font-size: 24px;
            font-weight: 600;
            line-height: 1.1;
            margin-bottom: 16px;
            color: #f5f5f7;
        }
        
        .card-description {
            font-size: 17px;
            line-height: 1.5;
            color: #86868b;
            margin-bottom: 24px;
        }
        
        .card-buttons {
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
        }
        
        .btn-card {
            background: #0071e3;
            color: white;
            border: none;
            border-radius: 12px;
            padding: 12px 24px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
            min-width: 140px;
            text-align: center;
        }
        
        .btn-card:hover {
            background: #0056b3;
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 113, 227, 0.3);
        }
        
        /* Stats */
        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 24px;
            margin-top: 24px;
        }
        
        .stat-item {
            text-align: center;
            padding: 20px 16px;
            background: rgba(255, 255, 255, 0.02);
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.05);
        }
        
        .stat-number {
            font-size: 32px;
            font-weight: 600;
            color: #0071e3;
            line-height: 1;
        }
        
        .stat-label {
            font-size: 14px;
            color: #86868b;
            margin-top: 8px;
            font-weight: 400;
        }
        
        /* Results */
        .results {
            margin-top: 24px;
        }
        
        .interview-item {
            background: rgba(255, 255, 255, 0.02);
            border: 1px solid rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 12px;
            transition: all 0.3s ease;
        }
        
        .interview-item:hover {
            background: rgba(255, 255, 255, 0.04);
            border-color: rgba(255, 255, 255, 0.1);
        }
        
        .interview-title {
            font-size: 17px;
            font-weight: 600;
            color: #f5f5f7;
            margin-bottom: 8px;
        }
        
        .interview-details {
            font-size: 14px;
            color: #86868b;
            line-height: 1.4;
        }
        
        .status-indicator {
            display: inline-block;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            margin-right: 8px;
        }
        
        .status-scheduled { background-color: #30d158; }
        .status-pending { background-color: #ff9f0a; }
        .status-completed { background-color: #0071e3; }
        
        /* Loading */
        .loading {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(20px);
            z-index: 2000;
            align-items: center;
            justify-content: center;
            flex-direction: column;
        }
        
        .spinner {
            width: 32px;
            height: 32px;
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-top: 2px solid #0071e3;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: 16px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .loading-text {
            font-size: 17px;
            color: #f5f5f7;
            font-weight: 500;
        }
        
        /* Notification */
        .notification {
            position: fixed;
            top: 60px;
            right: 20px;
            padding: 16px 24px;
            border-radius: 12px;
            color: #f5f5f7;
            font-weight: 500;
            font-size: 15px;
            z-index: 3000;
            transform: translateX(400px);
            transition: transform 0.4s ease;
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .notification.show {
            transform: translateX(0);
        }
        
        .notification.success {
            background: rgba(48, 209, 88, 0.9);
        }
        
        .notification.error {
            background: rgba(255, 69, 58, 0.9);
        }
        
        /* Question Banks Section */
        .question-banks-section {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 80px 0;
        }

        .question-banks-filters {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
            padding: 30px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            backdrop-filter: blur(10px);
        }

        .modern-select {
            padding: 15px 20px;
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 12px;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            font-size: 16px;
            outline: none;
            transition: all 0.3s ease;
        }

        .modern-select:focus {
            border-color: #007AFF;
            background: rgba(255, 255, 255, 0.2);
        }

        .modern-select option {
            background: #333;
            color: white;
        }

        .questions-display {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 30px;
            backdrop-filter: blur(10px);
            margin-top: 20px;
        }

        .question-item {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 15px;
            border-left: 4px solid #007AFF;
            transition: all 0.3s ease;
        }

        .question-item:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateX(5px);
        }

        .question-text {
            font-size: 16px;
            line-height: 1.6;
            margin-bottom: 10px;
        }

        .question-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 14px;
            opacity: 0.8;
        }

        .question-category {
            background: rgba(255, 255, 255, 0.2);
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 12px;
        }

        /* Study Resources Styles */
        .study-resources-section {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 80px 0;
        }

        .resource-categories {
            display: flex;
            flex-direction: column;
            gap: 40px;
        }

        .resource-category {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            padding: 30px;
            backdrop-filter: blur(10px);
        }

        .category-title {
            font-size: 1.8rem;
            font-weight: 700;
            margin-bottom: 20px;
            color: #00d4ff;
        }

        .resource-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 20px;
        }

        .resource-card {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 25px;
            transition: all 0.3s ease;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .resource-card:hover {
            background: rgba(255, 255, 255, 0.15);
            transform: translateY(-5px);
            border-color: rgba(255, 255, 255, 0.3);
        }

        .resource-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .resource-name {
            font-size: 1.4rem;
            font-weight: 600;
            color: white;
            margin: 0;
        }

        .resource-difficulty {
            background: rgba(0, 212, 255, 0.2);
            color: #00d4ff;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 500;
        }

        .resource-description {
            color: rgba(255, 255, 255, 0.9);
            margin-bottom: 15px;
            line-height: 1.5;
        }

        .resource-details {
            display: flex;
            flex-direction: column;
            gap: 8px;
            margin-bottom: 20px;
        }

        .resource-category-tag {
            background: rgba(255, 255, 255, 0.1);
            color: white;
            padding: 4px 12px;
            border-radius: 15px;
            font-size: 0.8rem;
            align-self: flex-start;
        }

        .resource-best-for {
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.9rem;
            font-style: italic;
        }

        .resource-link {
            display: inline-block;
            background: linear-gradient(45deg, #00d4ff, #0099cc);
            color: white;
            text-decoration: none;
            padding: 12px 24px;
            border-radius: 25px;
            font-weight: 600;
            transition: all 0.3s ease;
            text-align: center;
        }

        .resource-link:hover {
            background: linear-gradient(45deg, #0099cc, #00d4ff);
            transform: translateY(-2px);
            color: white;
            text-decoration: none;
        }

        /* Company Guides Styles */
        .company-guides-section {
            background: linear-gradient(135deg, #8b5cf6 0%, #3b82f6 100%);
            color: white;
            padding: 80px 0;
        }

        .company-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 25px;
            margin-top: 30px;
        }

        .company-card {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 30px;
            transition: all 0.3s ease;
            border: 1px solid rgba(255, 255, 255, 0.1);
            cursor: pointer;
        }

        .company-card:hover {
            background: rgba(255, 255, 255, 0.15);
            transform: translateY(-8px);
            border-color: rgba(255, 255, 255, 0.3);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
        }

        .company-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }

        .company-logo {
            font-size: 3rem;
            margin-right: 20px;
        }

        .company-name {
            font-size: 1.8rem;
            font-weight: 700;
            color: white;
            margin: 0;
        }

        .company-focus {
            margin-bottom: 20px;
        }

        .focus-tag {
            display: inline-block;
            background: rgba(255, 255, 255, 0.2);
            color: white;
            padding: 6px 12px;
            border-radius: 15px;
            font-size: 0.85rem;
            margin: 4px 8px 4px 0;
        }

        .company-tips {
            margin-bottom: 20px;
        }

        .tip-item {
            color: rgba(255, 255, 255, 0.9);
            margin-bottom: 8px;
            padding-left: 20px;
            position: relative;
        }

        .tip-item:before {
            content: "ðŸ’¡";
            position: absolute;
            left: 0;
        }

        .company-stats {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.2);
        }

        .stat-item {
            text-align: center;
        }

        .stat-value {
            font-size: 1.2rem;
            font-weight: 600;
            color: #00d4ff;
        }

        .stat-label {
            font-size: 0.8rem;
            opacity: 0.8;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 10px;
            color: #00d4ff;
        }

        .stat-label {
            font-size: 0.9rem;
            opacity: 0.8;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .tracker-controls {
            display: flex;
            gap: 15px;
            margin-bottom: 30px;
            flex-wrap: wrap;
            align-items: center;
        }

        .secondary-button {
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.3);
            color: white;
            padding: 12px 24px;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
        }

        .secondary-button:hover {
            background: rgba(255, 255, 255, 0.2);
            border-color: white;
        }

        .search-input {
            padding: 12px 20px;
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 25px;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            font-size: 16px;
            outline: none;
            transition: all 0.3s ease;
            min-width: 250px;
        }

        .search-input:focus {
            border-color: #007AFF;
            background: rgba(255, 255, 255, 0.2);
        }

        .search-input::placeholder {
            color: rgba(255, 255, 255, 0.7);
        }

        .applications-list {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 30px;
            backdrop-filter: blur(10px);
            margin-bottom: 30px;
        }

        .application-item {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 20px;
            border-left: 5px solid #007AFF;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .application-item:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateX(5px);
        }

        .application-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 15px;
        }

        .application-title {
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 5px;
        }

        .application-company {
            font-size: 1.1rem;
            opacity: 0.8;
        }

        .application-status {
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
            text-transform: uppercase;
        }

        .status-not-applied { background: #ff6b6b; }
        .status-applied { background: #4ecdc4; }
        .status-under-review { background: #45b7d1; }
        .status-interview-scheduled { background: #96ceb4; }
        .status-rejected { background: #ff8a80; }
        .status-offer { background: #ffd93d; color: #333; }

        .application-details {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-top: 15px;
            font-size: 0.9rem;
            opacity: 0.8;
        }

        .deadline-urgent { border-left-color: #ff4757 !important; }
        .deadline-soon { border-left-color: #ffa502 !important; }

        .deadlines-section {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 30px;
            backdrop-filter: blur(10px);
        }

        .deadlines-list {
            display: grid;
            gap: 15px;
            margin-top: 20px;
        }

        .deadline-item {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 20px;
            border-left: 4px solid #ff6b6b;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        /* Modal Styles */
        .modal {
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(5px);
        }

        .modal-content {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            margin: 5% auto;
            padding: 0;
            border-radius: 20px;
            width: 90%;
            max-width: 600px;
            max-height: 90vh;
            overflow-y: auto;
            color: white;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 25px 30px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
        }

        .modal-header h3 {
            margin: 0;
            font-size: 1.5rem;
        }

        .close {
            font-size: 2rem;
            cursor: pointer;
            transition: opacity 0.3s ease;
        }

        .close:hover {
            opacity: 0.7;
        }

        .modal-body {
            padding: 30px;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            opacity: 0.9;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            font-size: 16px;
            outline: none;
            transition: all 0.3s ease;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            border-color: #007AFF;
            background: rgba(255, 255, 255, 0.2);
        }

        .form-group textarea {
            resize: vertical;
            min-height: 80px;
        }

        .form-actions {
            display: flex;
            gap: 15px;
            justify-content: flex-end;
            margin-top: 30px;
        }

        /* Enhanced Mobile Responsiveness */
        @media (max-width: 768px) {
            .nav-content {
                padding: 0 20px;
                position: relative;
            }
            
            .nav-items {
                display: none;
                position: absolute;
                top: 100%;
                left: 0;
                right: 0;
                background: rgba(29, 29, 31, 0.95);
                backdrop-filter: blur(20px);
                border: 1px solid rgba(255, 255, 255, 0.1);
                border-radius: 12px;
                margin: 10px 20px;
                flex-direction: column;
                padding: 16px;
                gap: 8px;
                z-index: 100;
            }
            
            .nav-items.mobile-show {
                display: flex;
            }
            
            .mobile-menu-btn {
                display: block;
                background: none;
                border: none;
                color: #f5f5f7;
                font-size: 18px;
                cursor: pointer;
                padding: 8px;
                position: absolute;
                right: 20px;
                top: 50%;
                transform: translateY(-50%);
            }
            
            .nav-item {
                padding: 12px 16px;
                border-radius: 8px;
                transition: background 0.2s ease;
            }
            
            .nav-item:hover {
                background: rgba(255, 255, 255, 0.1);
            }
            
            .hero {
                padding: 60px 20px;
                text-align: center;
            }
            
            .hero-title {
                font-size: 48px;
                line-height: 1.1;
            }
            
            .hero-subtitle {
                font-size: 18px;
            }
            
            .hero-description {
                font-size: 16px;
                max-width: none;
            }
            
            .hero-buttons {
                flex-direction: column;
                gap: 16px;
                width: 100%;
            }
            
            .btn-primary, .btn-secondary {
                width: 100%;
                justify-content: center;
                padding: 16px 24px;
                font-size: 18px;
                min-height: 48px;
            }
            
            .features {
                padding: 80px 20px;
            }
            
            .features-grid {
                grid-template-columns: 1fr;
                gap: 24px;
            }
            
            .feature-card {
                padding: 32px 24px;
                text-align: left;
            }
            
            .dashboard {
                padding: 80px 20px;
            }
            
            .dashboard-grid {
                grid-template-columns: 1fr;
                gap: 24px;
            }
            
            .dashboard-card {
                padding: 24px 20px;
            }
            
            .card-buttons {
                flex-direction: column;
                gap: 12px;
            }
            
            .btn-card {
                width: 100%;
                justify-content: center;
                min-height: 44px;
            }
            
            .result-actions {
                flex-direction: column;
                gap: 12px;
            }
            
            /* Mobile Modal Optimizations */
            .modal-content {
                width: 95%;
                max-height: 85vh;
                padding: 24px 20px;
                margin: 20px auto;
                border-radius: 16px;
            }
            
            .form-row {
                flex-direction: column;
                gap: 12px;
            }
            
            .rating-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 16px;
            }
            
            .star {
                font-size: 18px;
                padding: 4px;
            }
            
            .form-actions {
                flex-direction: column;
                gap: 12px;
            }
            
            .form-actions button {
                width: 100%;
                padding: 16px;
                font-size: 16px;
                min-height: 48px;
            }
        }
        
        @media (max-width: 480px) {
            .hero-title {
                font-size: 36px;
            }
            
            .hero-subtitle {
                font-size: 16px;
            }
            
            .feature-card, .dashboard-card {
                padding: 24px 16px;
            }
            
            .question-item {
                flex-direction: column;
                gap: 12px;
            }
            
            .question-number {
                align-self: flex-start;
                font-size: 12px;
                padding: 6px 10px;
            }
            
            .modal-content {
                padding: 20px 16px;
                width: 98%;
                margin: 10px auto;
            }
            
            .modal-header h2 {
                font-size: 20px;
            }
            
            .form-section h3 {
                font-size: 16px;
            }
            
            .rating-grid {
                grid-template-columns: 1fr;
                gap: 12px;
            }
            
            .star {
                font-size: 20px;
                padding: 6px;
                min-height: 32px;
                min-width: 32px;
            }
        }
        
        /* Touch device optimizations */
        @media (hover: none) and (pointer: coarse) {
            .feature-card:hover,
            .dashboard-card:hover,
            .result-item:hover,
            .question-item:hover,
            .schedule-item:hover {
                transform: none;
            }
            
            .btn-primary:hover,
            .btn-secondary:hover,
            .btn-card:hover {
                transform: none;
            }
            
            /* Add active states for touch feedback */
            .btn-primary:active,
            .btn-secondary:active,
            .btn-card:active {
                transform: scale(0.98);
                opacity: 0.8;
            }
            
            .feature-card:active,
            .dashboard-card:active {
                background: rgba(255, 255, 255, 0.06);
            }
        }
        
        /* Hidden mobile menu button by default */
        .mobile-menu-btn {
            display: none;
        }
        
        /* Results Display */
        .results {
            margin-top: 20px;
        }
        
        .results-header {
            font-size: 20px;
            font-weight: 600;
            color: #f5f5f7;
            margin-bottom: 20px;
            letter-spacing: -0.022em;
        }
        
        .results-list, .question-list, .schedule-list {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }
        
        .result-item, .question-item, .schedule-item {
            background: rgba(255, 255, 255, 0.02);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 20px;
            transition: all 0.3s ease;
            opacity: 0;
            transform: translateY(20px);
            animation: slideInUp 0.4s ease forwards;
        }
        
        .result-item:hover, .question-item:hover, .schedule-item:hover {
            background: rgba(255, 255, 255, 0.04);
            border-color: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
        }

        /* Enhanced Interview Item Styles */
        .enhanced-interview-item {
            background: rgba(255, 255, 255, 0.03);
            border-radius: 16px;
            padding: 24px;
            margin-bottom: 16px;
        }

        .enhanced-interview-item.priority-high {
            border-left: 4px solid #ff3b30;
            background: rgba(255, 59, 48, 0.05);
        }

        .enhanced-interview-item.priority-medium {
            border-left: 4px solid #ff9500;
            background: rgba(255, 149, 0, 0.05);
        }

        .enhanced-interview-item.priority-normal {
            border-left: 4px solid #34c759;
            background: rgba(52, 199, 89, 0.05);
        }

        .interview-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 20px;
        }

        .company-info .company-name {
            font-size: 20px;
            font-weight: 600;
            color: #f5f5f7;
            margin: 0 0 4px 0;
        }

        .company-info .position-name {
            font-size: 16px;
            color: #a1a1a6;
            margin: 0;
        }

        .priority-badge {
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
            text-transform: uppercase;
        }

        .priority-badge.priority-high {
            background: rgba(255, 59, 48, 0.2);
            color: #ff6b60;
        }

        .priority-badge.priority-medium {
            background: rgba(255, 149, 0, 0.2);
            color: #ffb340;
        }

        .priority-badge.priority-normal {
            background: rgba(52, 199, 89, 0.2);
            color: #66d585;
        }

        .interview-details-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 16px;
            margin-bottom: 20px;
        }

        .detail-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px;
            background: rgba(255, 255, 255, 0.02);
            border-radius: 8px;
        }

        .detail-icon {
            font-size: 20px;
            flex-shrink: 0;
        }

        .detail-content {
            display: flex;
            flex-direction: column;
        }

        .detail-label {
            font-size: 12px;
            color: #86868b;
            text-transform: uppercase;
            font-weight: 500;
            margin-bottom: 2px;
        }

        .detail-value {
            font-size: 14px;
            color: #f5f5f7;
            font-weight: 500;
        }

        .interview-actions {
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
        }

        .btn-prep, .btn-track, .btn-details {
            padding: 8px 16px;
            border: none;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 6px;
        }

        .btn-prep {
            background: #0071e3;
            color: white;
        }

        .btn-prep:hover {
            background: #0077ed;
            transform: translateY(-1px);
        }

        .btn-track {
            background: #34c759;
            color: white;
        }

        .btn-track:hover {
            background: #30d158;
            transform: translateY(-1px);
        }

        .btn-details {
            background: rgba(255, 255, 255, 0.1);
            color: #f5f5f7;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .btn-details:hover {
            background: rgba(255, 255, 255, 0.15);
            transform: translateY(-1px);
        }
        
        .result-content h4, .schedule-content h4 {
            font-size: 18px;
            font-weight: 600;
            color: #f5f5f7;
            margin: 0 0 8px 0;
        }
        
        .result-content p {
            color: #a1a1a6;
            margin: 0 0 12px 0;
            font-size: 15px;
        }
        
        .result-meta {
            display: flex;
            gap: 12px;
            margin-bottom: 16px;
        }
        
        .tag {
            background: rgba(0, 113, 227, 0.2);
            color: #0071e3;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 13px;
            font-weight: 500;
        }
        
        .date {
            color: #a1a1a6;
            font-size: 13px;
        }
        
        .result-actions {
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
        }
        
        .question-item {
            display: flex;
            gap: 16px;
            align-items: flex-start;
        }
        
        .question-number {
            background: rgba(0, 113, 227, 0.2);
            color: #0071e3;
            padding: 8px 12px;
            border-radius: 8px;
            font-weight: 600;
            font-size: 14px;
            min-width: 40px;
            text-align: center;
            flex-shrink: 0;
        }
        
        .question-text {
            color: #f5f5f7;
            font-size: 16px;
            line-height: 1.5;
        }
        
        .schedule-details {
            display: flex;
            gap: 16px;
            margin-top: 8px;
        }
        
        .time, .duration {
            color: #a1a1a6;
            font-size: 14px;
        }
        
        .empty-state {
            text-align: center;
            color: #a1a1a6;
            font-style: italic;
            padding: 40px 20px;
        }
        
        /* Keyframe Animations */
        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }
        
        @keyframes spin {
            from {
                transform: rotate(0deg);
            }
            to {
                transform: rotate(360deg);
            }
        }
        
        /* Interview Modal */
        .interview-modal, .insights-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .interview-modal.show, .insights-modal.show {
            opacity: 1;
        }
        
        .modal-content {
            background: rgba(29, 29, 31, 0.95);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 32px;
            max-width: 600px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            backdrop-filter: blur(20px);
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
        }
        
        .modal-header h2 {
            color: #f5f5f7;
            font-size: 24px;
            font-weight: 600;
            margin: 0;
        }
        
        .modal-close {
            background: none;
            border: none;
            color: #a1a1a6;
            font-size: 24px;
            cursor: pointer;
            padding: 4px;
            border-radius: 6px;
            transition: background 0.2s ease;
        }
        
        .modal-close:hover {
            background: rgba(255, 255, 255, 0.1);
        }
        
        .form-section {
            margin-bottom: 32px;
        }
        
        .form-section h3 {
            color: #f5f5f7;
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 16px;
        }
        
        .form-row {
            display: flex;
            gap: 16px;
            margin-bottom: 16px;
        }
        
        .interview-form input,
        .interview-form select,
        .interview-form textarea {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 12px 16px;
            color: #f5f5f7;
            font-size: 16px;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            transition: border-color 0.2s ease;
            flex: 1;
        }
        
        .interview-form input:focus,
        .interview-form select:focus,
        .interview-form textarea:focus {
            outline: none;
            border-color: #0071e3;
        }
        
        .interview-form textarea {
            min-height: 80px;
            resize: vertical;
        }
        
        .rating-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
        }
        
        .rating-item {
            text-align: center;
        }
        
        .rating-item label {
            display: block;
            color: #a1a1a6;
            font-size: 14px;
            margin-bottom: 8px;
        }
        
        .star-rating {
            display: flex;
            justify-content: center;
            gap: 4px;
        }
        
        .star {
            font-size: 20px;
            color: #424245;
            cursor: pointer;
            transition: color 0.2s ease;
            user-select: none;
        }
        
        .star:hover,
        .star.active {
            color: #ffcc00;
        }
        
        .form-actions {
            display: flex;
            gap: 16px;
            justify-content: flex-end;
            margin-top: 32px;
        }
        
        .insights-content {
            margin-bottom: 24px;
        }
        
        .insights-section {
            margin-bottom: 24px;
        }
        
        .insights-section h3 {
            color: #f5f5f7;
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 12px;
        }
        
        .insights-section ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        
        .insights-section li {
            background: rgba(255, 255, 255, 0.05);
            padding: 12px 16px;
            border-radius: 8px;
            margin-bottom: 8px;
            color: #f5f5f7;
            font-size: 15px;
            line-height: 1.5;
        }
        
        /* Mock Interview Styles */
        .mock-interview-section {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 80px 0;
        }
        
        .config-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 24px;
            margin-bottom: 32px;
        }
        
        .config-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 16px;
            padding: 24px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .config-card h3 {
            margin: 0 0 16px 0;
            color: white;
            font-size: 16px;
            font-weight: 600;
        }
        
        .modern-select, .modern-input {
            width: 100%;
            padding: 12px 16px;
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            font-size: 14px;
            backdrop-filter: blur(5px);
        }
        
        .modern-select option {
            background: #1d1d1f;
            color: white;
        }
        
        .modern-input::placeholder {
            color: rgba(255, 255, 255, 0.6);
        }
        
        .config-actions {
            text-align: center;
            margin-top: 32px;
        }
        
        .config-actions .cta-button {
            margin-right: 16px;
        }
        
        .interview-session {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 32px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .interview-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 32px;
            padding-bottom: 16px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .progress-bar {
            width: 200px;
            height: 8px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 4px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #00f5ff, #0071e3);
            transition: width 0.3s ease;
            width: 20%;
        }
        
        .progress-text {
            margin-top: 8px;
            color: rgba(255, 255, 255, 0.8);
            font-size: 14px;
        }
        
        .interview-timer {
            font-family: 'SF Mono', Monaco, monospace;
            font-size: 24px;
            font-weight: 600;
            color: #00f5ff;
        }
        
        .question-container {
            margin-bottom: 32px;
        }
        
        .question-title {
            color: white;
            font-size: 20px;
            font-weight: 600;
            line-height: 1.4;
            margin-bottom: 16px;
        }
        
        .question-meta {
            color: rgba(255, 255, 255, 0.6);
            font-size: 14px;
        }
        
        .answer-textarea {
            width: 100%;
            min-height: 150px;
            padding: 20px;
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 12px;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            font-size: 16px;
            line-height: 1.5;
            resize: vertical;
            backdrop-filter: blur(5px);
        }
        
        .answer-textarea::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }
        
        .answer-actions {
            margin-top: 16px;
            text-align: right;
        }
        
        .answer-actions .secondary-button {
            margin-right: 12px;
        }
        
        .live-feedback {
            background: rgba(0, 245, 255, 0.1);
            border: 1px solid rgba(0, 245, 255, 0.3);
            border-radius: 12px;
            padding: 24px;
            margin-top: 24px;
        }
        
        .live-feedback h4 {
            color: #00f5ff;
            margin: 0 0 16px 0;
        }
        
        .feedback-content {
            color: rgba(255, 255, 255, 0.9);
            line-height: 1.6;
            margin-bottom: 16px;
        }
        
        .interview-results {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 32px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .results-header {
            text-align: center;
            margin-bottom: 32px;
            padding-bottom: 24px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .results-header h3 {
            color: white;
            margin: 0 0 16px 0;
        }
        
        .overall-score {
            font-size: 48px;
            font-weight: 700;
            color: #00f5ff;
            margin: 0;
        }
        
        .results-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 24px;
            margin-bottom: 32px;
        }
        
        .results-card {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 24px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .results-card h4 {
            color: white;
            margin: 0 0 16px 0;
            font-size: 16px;
            font-weight: 600;
        }
        
        .results-card ul {
            list-style: none;
            margin: 0;
            padding: 0;
        }
        
        .results-card li {
            color: rgba(255, 255, 255, 0.8);
            padding: 8px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            font-size: 14px;
        }
        
        .results-card li:last-child {
            border-bottom: none;
        }
        
        .results-actions {
            text-align: center;
        }
        
        .results-actions .cta-button {
            margin: 0 8px;
        }
        
        .results-actions .btn-card {
            margin: 0 8px;
        }
        
        /* Simple Chart Styles */
        .simple-chart {
            padding: 16px 0;
        }
        
        .chart-bar {
            display: flex;
            align-items: center;
            margin-bottom: 16px;
        }
        
        .chart-label {
            flex: 0 0 140px;
            font-size: 14px;
            color: rgba(255, 255, 255, 0.8);
        }
        
        .chart-progress {
            flex: 1;
            height: 8px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 4px;
            margin: 0 16px;
            overflow: hidden;
        }
        
        .chart-fill {
            height: 100%;
            background: linear-gradient(90deg, #00f5ff, #0071e3);
            transition: width 0.8s ease;
        }
        
        .chart-value {
            flex: 0 0 60px;
            text-align: right;
            font-weight: 600;
            color: #00f5ff;
            font-size: 14px;
        }
        
        .feedback-score {
            font-size: 18px;
            font-weight: 600;
            color: #00f5ff;
            margin-bottom: 16px;
            text-align: center;
            padding: 12px;
            background: rgba(0, 245, 255, 0.1);
            border-radius: 8px;
        }
        
        .feedback-section {
            margin-bottom: 16px;
        }
        
        .feedback-section strong {
            color: #00f5ff;
            display: block;
            margin-bottom: 8px;
        }
        
        .feedback-section ul {
            margin: 0;
            padding-left: 20px;
        }
        
        .feedback-section li {
            color: rgba(255, 255, 255, 0.9);
            margin-bottom: 4px;
            line-height: 1.4;
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="nav">
        <div class="nav-content">
            <a href="#" class="nav-logo">Smart Interview Prep</a>
            <button class="mobile-menu-btn" onclick="toggleMobileMenu()">â˜°</button>
            <div class="nav-items" id="nav-items">
                <a href="#features" class="nav-item">Features</a>
                <a href="#dashboard" class="nav-item">Dashboard</a>
                <a href="#analytics" class="nav-item">Analytics</a>
                <a href="/mock-interview" class="nav-item">ðŸŽ­ Mock Interview</a>
                <a href="/diagnostics" class="nav-item">Diagnostics</a>
                <a href="/code-documentation" class="nav-item">ðŸ“‹ Code Docs</a>
                <a href="#support" class="nav-item">Support</a>
            </div>
        </div>
    </nav>
    
    <!-- Hero Section -->
    <section class="hero">
        <h1 class="hero-title">Interview Prep.<br>Reimagined.</h1>
        <p class="hero-subtitle">AI-powered preparation that adapts to you.</p>
        <p class="hero-description">
            Automatically parse recruiter emails, generate tailored questions, 
            and schedule intelligent prep sessions. Your path to interview success starts here.
        </p>
        <div class="hero-buttons">
            <button class="btn-primary" onclick="window.location.href='/mock-interview'">Get Started</button>
            <button class="btn-secondary" onclick="viewDashboard()">View Analytics</button>
        </div>
    </section>
    
    <!-- Features Section -->
    <section class="features" id="features">
        <div class="features-grid">
            <div class="feature-card">
                <span class="feature-icon">ðŸ”</span>
                <h3 class="feature-title">Smart Detection</h3>
                <p class="feature-description">
                    Automatically identifies interview emails and extracts key details like company, 
                    position, and interview type with advanced AI recognition.
                </p>
                <button class="btn-card" onclick="scanEmails()">Scan Emails</button>
            </div>
            
            <div class="feature-card">
                <span class="feature-icon"></span>
                <h3 class="feature-title">Performance Analytics</h3>
                <p class="feature-description">
                    Track your interview performance across multiple sessions with detailed 
                    analytics and personalized improvement recommendations.
                </p>
                <button class="btn-card" onclick="viewAnalytics()">View Analytics</button>
            </div>
            
            <div class="feature-card">
                <span class="feature-icon">ðŸŽ¯</span>
                <h3 class="feature-title">Mock Interview Simulator</h3>
                <p class="feature-description">
                    Practice with AI-powered mock interviews, get instant feedback, and track your 
                    performance with realistic interview scenarios.
                </p>
                <button class="btn-card" onclick="window.location.href='/mock-interview'">Start Practice</button>
            </div>
            
            <div class="feature-card">
                <span class="feature-icon">ï¿½</span>
                <h3 class="feature-title">Study Resources</h3>
                <p class="feature-description">
                    Access curated coding and programming resources including LeetCode, HackerRank, 
                    system design guides, and interview prep platforms for computing roles.
                </p>
                <a href="/study-resources" class="btn-card" style="display: inline-block; text-decoration: none; text-align: center;">Browse Resources</a>
            </div>
        </div>
    </section>
    
    <!-- Company Guides Section -->
    <section class="company-guides-section" id="companyGuides" style="display: none;">
        <div class="dashboard-container">
            <h2 class="section-title">ðŸ¢ Company Interview Guides</h2>
            <p class="section-subtitle">Insider tips and preparation guides for top tech companies</p>
            
            <!-- Company Grid -->
            <div class="company-grid" id="companyGrid">
                <!-- Will be populated by JavaScript -->
            </div>
        </div>
    </section>

    <!-- Mock Interview Section -->
    <section class="mock-interview-section" id="mockInterview" style="display: none;">
        <div class="dashboard-container">
            <h2 class="section-title">ðŸŽ¯ Mock Interview Simulator</h2>
            <p class="section-subtitle">Practice with AI-powered interviews and get instant feedback</p>
            
            <!-- Interview Configuration -->
            <div class="interview-config" id="interviewConfig">
                <div class="config-grid">
                    <div class="config-card">
                        <h3>ðŸ”§ Interview Type</h3>
                        <select id="interviewType" class="modern-select">
                            <option value="">Select Interview Type</option>
                            <option value="technical">ðŸ’» Technical Interview</option>
                            <option value="behavioral">ðŸ¤ Behavioral Interview</option>
                            <option value="system_design">ðŸ—ï¸ System Design</option>
                            <option value="product">ðŸ“± Product Interview</option>
                        </select>
                    </div>
                    
                    <div class="config-card">
                        <h3>ðŸ“Š Difficulty Level</h3>
                        <select id="difficultyLevel" class="modern-select">
                            <option value="">Select Difficulty</option>
                            <option value="Easy">ðŸŸ¢ Easy</option>
                            <option value="Medium">ðŸŸ¡ Medium</option>
                            <option value="Hard">ðŸ”´ Hard</option>
                        </select>
                    </div>
                    
                    <div class="config-card">
                        <h3>ðŸ¢ Target Company (Optional)</h3>
                        <select id="targetCompany" class="modern-select">
                            <option value="">Select Company</option>
                            <option value="Google">Google</option>
                            <option value="Microsoft">Microsoft</option>
                            <option value="Amazon">Amazon</option>
                            <option value="Apple">Apple</option>
                            <option value="Meta">Meta</option>
                            <option value="Netflix">Netflix</option>
                        </select>
                    </div>
                    
                    <div class="config-card">
                        <h3>ðŸ‘” Role (Optional)</h3>
                        <input type="text" id="targetRole" class="modern-input" placeholder="e.g., Software Engineer">
                    </div>
                </div>
                
                <div class="config-actions">
                    <button class="cta-button" onclick="startMockInterview()">ðŸš€ Start Interview</button>
                    <button class="btn-card" onclick="showPracticeTips()">ðŸ’¡ Practice Tips</button>
                </div>
            </div>
            
            <!-- Interview Session -->
            <div class="interview-session" id="interviewSession" style="display: none;">
                <div class="interview-header">
                    <div class="interview-progress">
                        <div class="progress-bar">
                            <div class="progress-fill" id="progressFill"></div>
                        </div>
                        <span class="progress-text" id="progressText">Question 1 of 5</span>
                    </div>
                    <div class="interview-timer">
                        <span id="timerDisplay">00:00</span>
                    </div>
                </div>
                
                <div class="question-container">
                    <h3 class="question-title" id="currentQuestion">Loading question...</h3>
                    <div class="question-meta" id="questionMeta"></div>
                </div>
                
                <div class="answer-container">
                    <textarea id="answerInput" class="answer-textarea" 
                             placeholder="Type your answer here... Be specific and use examples when possible."></textarea>
                    <div class="answer-actions">
                        <button class="secondary-button" onclick="skipQuestion()">â­ï¸ Skip</button>
                        <button class="cta-button" onclick="submitAnswer()">âœ… Submit Answer</button>
                    </div>
                </div>
                
                <!-- Live Feedback -->
                <div class="live-feedback" id="liveFeedback" style="display: none;">
                    <h4>ðŸ“ Instant Feedback</h4>
                    <div class="feedback-content" id="feedbackContent"></div>
                    <button class="btn-card" onclick="nextQuestion()">âž¡ï¸ Next Question</button>
                </div>
            </div>
            
            <!-- Interview Results -->
            <div class="interview-results" id="interviewResults" style="display: none;">
                <div class="results-header">
                    <h3>ðŸ“Š Interview Performance Report</h3>
                    <div class="overall-score" id="overallScore">8.5/10</div>
                </div>
                
                <div class="results-grid">
                    <div class="results-card">
                        <h4>ðŸ’ª Strengths</h4>
                        <ul id="strengthsList"></ul>
                    </div>
                    
                    <div class="results-card">
                        <h4>ðŸŽ¯ Areas for Improvement</h4>
                        <ul id="improvementsList"></ul>
                    </div>
                    
                    <div class="results-card">
                        <h4>ðŸ“š Recommendations</h4>
                        <ul id="recommendationsList"></ul>
                    </div>
                    
                    <div class="results-card">
                        <h4>ðŸ“ˆ Performance Breakdown</h4>
                        <div id="performanceChart"></div>
                    </div>
                </div>
                
                <div class="results-actions">
                    <button class="cta-button" onclick="startNewInterview()">ðŸ”„ New Interview</button>
                    <button class="btn-card" onclick="downloadReport()">ðŸ“¥ Download Report</button>
                    <button class="btn-card" onclick="shareResults()">ðŸ“¤ Share Results</button>
                </div>
            </div>
        </div>
    </section>

    <!-- Question Banks Section -->
    <section class="question-banks-section" id="questionBanks" style="display: none;">
        <div class="dashboard-container">
            <h2 class="section-title">ðŸ“š Custom Question Banks</h2>
            <p class="section-subtitle">Access specialized interview questions tailored to your industry and role</p>
            
            <div class="question-banks-filters">
                <select id="industryFilter" class="modern-select">
                    <option value="">Select Industry</option>
                    <option value="technology">ðŸ’» Technology & Software</option>
                    <option value="finance">ðŸ’° Finance & Banking</option>
                    <option value="healthcare">ðŸ¥ Healthcare & Life Sciences</option>
                    <option value="consulting">ðŸ“Š Management Consulting</option>
                </select>
                
                <select id="roleFilter" class="modern-select">
                    <option value="">Select Role</option>
                    <option value="software_engineer">ðŸ‘¨â€ðŸ’» Software Engineer</option>
                    <option value="product_manager">ðŸ“± Product Manager</option>
                    <option value="data_scientist">ðŸ“ˆ Data Scientist</option>
                    <option value="sales">ðŸ¤ Sales Representative</option>
                </select>
                
                <select id="questionTypeFilter" class="modern-select">
                    <option value="">Question Type</option>
                    <option value="technical">Technical</option>
                    <option value="behavioral">Behavioral</option>
                    <option value="system_design">System Design</option>
                    <option value="case_study">Case Study</option>
                </select>
                
                <button onclick="generateCustomQuestions()" class="cta-button">
                    Generate Questions
                </button>
            </div>
            
            <div id="customQuestions" class="questions-display"></div>
        </div>
    </section>

    <!-- Study Resources Section -->
    <section class="study-resources-section" id="studyResources" style="display: none;">
        <div class="dashboard-container">
            <h2 class="section-title">ï¿½ Computing Study Resources</h2>
            <p class="section-subtitle">Curated resources for computing and programming interview preparation</p>
            
            <!-- Resource Categories -->
            <div class="resource-categories" id="resourceCategories">
                <!-- Will be populated by JavaScript -->
            </div>
        </div>
                    ðŸ“¥ Import My Data
                </button>
                <select id="statusFilter" onchange="filterApplications()" class="modern-select">
                    <option value="">All Statuses</option>
                    <option value="Not Applied">Not Applied</option>
                    <option value="Applied">Applied</option>
                    <option value="Under Review">Under Review</option>
                    <option value="Interview Scheduled">Interview Scheduled</option>
                    <option value="Rejected">Rejected</option>
                    <option value="Offer">Offer</option>
                </select>
                <input type="text" id="searchApplications" placeholder="Search companies or positions..." 
                       onkeyup="searchApplications()" class="search-input">
            </div>
            
            <!-- Applications List -->
            <div id="applicationsList" class="applications-list">
                <div class="loading">ðŸ“‹ Loading your applications...</div>
            </div>
            
            <!-- Upcoming Deadlines -->
            <div class="deadlines-section">
                <h3>â° Upcoming Deadlines</h3>
                <div id="upcomingDeadlinesList" class="deadlines-list"></div>
            </div>
        </div>
    </section>

    <!-- Add Application Modal -->
    <div id="addApplicationModal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3>âž• Add New Internship Application</h3>
                <span class="close" onclick="closeAddApplicationModal()">&times;</span>
            </div>
            <div class="modal-body">
                <form id="addApplicationForm" onsubmit="addNewApplication(event)">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="companyName">Company Name *</label>
                            <input type="text" id="companyName" name="company_name" required>
                        </div>
                        <div class="form-group">
                            <label for="positionTitle">Position Title *</label>
                            <input type="text" id="positionTitle" name="position_title" required>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="applicationDate">Application Date</label>
                            <input type="date" id="applicationDate" name="application_date">
                        </div>
                        <div class="form-group">
                            <label for="deadline">Deadline</label>
                            <input type="date" id="deadline" name="deadline">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="status">Status</label>
                            <select id="status" name="status">
                                <option value="Not Applied">Not Applied</option>
                                <option value="Applied">Applied</option>
                                <option value="Under Review">Under Review</option>
                                <option value="Interview Scheduled">Interview Scheduled</option>
                                <option value="Rejected">Rejected</option>
                                <option value="Offer">Offer</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="priority">Priority</label>
                            <select id="priority" name="priority">
                                <option value="High">High</option>
                                <option value="Medium">Medium</option>
                                <option value="Low">Low</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="location">Location</label>
                        <input type="text" id="location" name="location" placeholder="e.g., London, UK">
                    </div>
                    <div class="form-group">
                        <label for="jobUrl">Job URL</label>
                        <input type="url" id="jobUrl" name="job_url" placeholder="https://...">
                    </div>
                    <div class="form-group">
                        <label for="requirements">Requirements</label>
                        <textarea id="requirements" name="requirements" placeholder="CV, Cover Letter, etc."></textarea>
                    </div>
                    <div class="form-group">
                        <label for="notes">Notes</label>
                        <textarea id="notes" name="notes" placeholder="Any additional notes..."></textarea>
                    </div>
                    <div class="form-actions">
                        <button type="button" onclick="closeAddApplicationModal()" class="secondary-button">Cancel</button>
                        <button type="submit" class="cta-button">Add Application</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    
    <!-- Dashboard Section -->
    <section class="dashboard" id="dashboard">
        <div class="dashboard-container">
            <h2 class="section-title">Your Interview Command Center</h2>
            
            <div class="dashboard-grid">
                <!-- Email Scanner Card -->
                <div class="dashboard-card">
                    <h3 class="card-title">ðŸ“§ Email Intelligence</h3>
                    <p class="card-description">
                        Scan and analyze your Gmail for interview invitations with advanced AI detection and parsing capabilities.
                    </p>
                    <div class="card-buttons">
                        <button class="btn-card" onclick="scanEmails()">Scan Recent Emails</button>
                        <button class="btn-card" onclick="syncGmailData()">ðŸ“§ Sync with Tracker</button>
                        <button class="btn-card" onclick="showEmailSettings()">Settings</button>
                    </div>
                    <div id="email-results" class="results"></div>
                </div>
                
                <!-- Gmail Integration Card -->
                <div class="dashboard-card">
                    <h3 class="card-title">ðŸ¤– Gmail Integration</h3>
                    <p class="card-description">
                        Automatically sync your Gmail to populate the application tracker with real job application data and interview invitations.
                    </p>
                    <div class="card-buttons">
                        <button class="btn-card" onclick="autoPopulateFromGmail()">ðŸš€ Auto-Populate Tracker</button>
                        <button class="btn-card" onclick="getGmailSyncStatus()">ðŸ“Š Sync Status</button>
                    </div>
                </div>
                
                <!-- Performance Analytics Card -->
                <div class="dashboard-card">
                    <h3 class="card-title">ðŸ“Š Performance Analytics</h3>
                    <p class="card-description">
                        Comprehensive tracking and analysis of your interview performance with AI-powered insights and recommendations.
                    </p>
                    <div class="card-buttons">
                        <button class="btn-card" onclick="viewDashboard()">View Dashboard</button>
                        <button class="btn-card" onclick="logInterview()">Log Interview</button>
                    </div>
                    <div class="stats" id="performance-stats">
                        <div class="stat-item">
                            <div class="stat-number" id="total-interviews">0</div>
                            <div class="stat-label">Total Interviews</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-number" id="success-rate">0%</div>
                            <div class="stat-label">Success Rate</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-number" id="avg-rating">0.0</div>
                            <div class="stat-label">Avg Rating</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <!-- Loading Overlay -->
    <div class="loading" id="loading">
        <div class="spinner"></div>
        <div class="loading-text">Processing...</div>
    </div>
    
    <!-- Notification -->
    <div class="notification" id="notification"></div>

    <script>
        // Mobile menu toggle
        function toggleMobileMenu() {
            const navItems = document.getElementById('nav-items');
            navItems.classList.toggle('mobile-show');
        }

        // Close mobile menu when clicking nav item
        document.querySelectorAll('.nav-item').forEach(item => {
            item.addEventListener('click', () => {
                const navItems = document.getElementById('nav-items');
                navItems.classList.remove('mobile-show');
            });
        });

        // Close mobile menu when clicking outside
        document.addEventListener('click', (e) => {
            const navItems = document.getElementById('nav-items');
            const mobileBtn = document.querySelector('.mobile-menu-btn');
            const navContent = document.querySelector('.nav-content');
            
            if (!navContent.contains(e.target)) {
                navItems.classList.remove('mobile-show');
            }
        });

        // Apple-style smooth animations and interactions
        function animateValue(element, start, end, duration) {
            const startTime = Date.now();
            const isPercentage = element.id === 'success-rate';
            
            const timer = setInterval(() => {
                const progress = Math.min((Date.now() - startTime) / duration, 1);
                const value = Math.floor(progress * (end - start) + start);
                
                if (isPercentage) {
                    element.textContent = value + '%';
                } else {
                    element.textContent = value;
                }
                
                if (progress === 1) clearInterval(timer);
            }, 16);
        }

        // Smooth scroll for navigation (only for anchor links)
        document.querySelectorAll('.nav-item').forEach(item => {
            item.addEventListener('click', (e) => {
                const href = e.target.getAttribute('href');
                
                // Only prevent default for anchor links (starting with #)
                if (href && href.startsWith('#')) {
                    e.preventDefault();
                    const target = document.querySelector(href);
                    if (target) {
                        target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    }
                }
                // For regular links (/mock-interview, /diagnostics, etc.), let them navigate normally
            });
        });

        // Show loading state with Apple-style animation
        function showLoading() {
            const loading = document.getElementById('loading');
            loading.style.display = 'flex';
            loading.style.opacity = '0';
            setTimeout(() => loading.style.opacity = '1', 10);
        }

        // Hide loading state
        function hideLoading() {
            const loading = document.getElementById('loading');
            loading.style.opacity = '0';
            setTimeout(() => loading.style.display = 'none', 300);
        }

        // Show notification with Apple-style animation
        function showNotification(message, type = 'success') {
            const notification = document.getElementById('notification');
            notification.textContent = message;
            notification.className = `notification ${type}`;
            notification.style.display = 'block';
            notification.style.transform = 'translateY(-100%)';
            
            setTimeout(() => {
                notification.style.transform = 'translateY(0)';
            }, 10);
            
            setTimeout(() => {
                notification.style.transform = 'translateY(-100%)';
                setTimeout(() => notification.style.display = 'none', 300);
            }, 3000);
        }

        // Scan emails for interviews with enhanced feedback
        async function scanEmails() {
            showLoading();
            try {
                // Show initial scanning message
                showNotification('ðŸ” Scanning your Gmail for interview invitations...', 'info');
                
                // Use GET request instead of POST to avoid Flask issues
                const response = await fetch('/scan-emails?days_back=7', {
                    method: 'GET',
                    headers: {
                        'Content-Type': 'application/json',
                    }
                });
                
                const data = await response.json();
                
                if (data.success) {
                    displayEmailResults(data.interviews);
                    
                    if (data.interviews && data.interviews.length > 0) {
                        showNotification(`âœ… Found ${data.interviews.length} interview invitation(s)!`, 'success');
                    } else {
                        showNotification(`ðŸ“§ No interview emails found in the last 7 days. 
                        
Try:
â€¢ Extending search to 30 days: Click "Scan Extended"
â€¢ Check if your emails contain keywords: "interview", "phone call", "meeting", "video call"
â€¢ Make sure you're logged into the correct Gmail account`, 'info');
                        
                        // Add extended scan option
                        setTimeout(() => {
                            const extendedBtn = document.createElement('button');
                            extendedBtn.className = 'btn-secondary';
                            extendedBtn.textContent = 'ðŸ” Scan Last 30 Days';
                            extendedBtn.onclick = () => scanEmailsExtended(30);
                            
                            const resultsDiv = document.getElementById('email-results');
                            if (resultsDiv) {
                                resultsDiv.innerHTML += '<div style="text-align: center; margin-top: 20px;"></div>';
                                resultsDiv.querySelector('div').appendChild(extendedBtn);
                            }
                        }, 1000);
                    }
                } else {
                    showNotification('Failed to scan emails: ' + data.error, 'error');
                }
            } catch (error) {
                showNotification('Error scanning emails: ' + error.message, 'error');
            }
            hideLoading();
        }
        
        // Extended email scan function
        async function scanEmailsExtended(days) {
            showLoading();
            try {
                showNotification(`ðŸ” Scanning last ${days} days for interview emails...`, 'info');
                
                const response = await fetch(`/scan-emails?days_back=${days}`, {
                    method: 'GET',
                    headers: {
                        'Content-Type': 'application/json',
                    }
                });
                
                const data = await response.json();
                
                if (data.success) {
                    displayEmailResults(data.interviews);
                    
                    if (data.interviews && data.interviews.length > 0) {
                        showNotification(`âœ… Found ${data.interviews.length} interview email(s) in the last ${days} days!`, 'success');
                    } else {
                        showNotification(`ðŸ“§ No interview emails found in the last ${days} days.
                        
This could mean:
â€¢ You haven't received interview invitations recently
â€¢ Your interview emails use different keywords
â€¢ Try checking your email manually for messages containing "interview", "phone call", or "meeting"`, 'info');
                    }
                } else {
                    showNotification('Failed to scan emails: ' + data.error, 'error');
                }
            } catch (error) {
                showNotification('Error scanning emails: ' + error.message, 'error');
            }
            hideLoading();
        }

        // Display email scan results with enhanced information
        function displayEmailResults(interviews) {
            const resultsDiv = document.getElementById('email-results');
            if (!interviews || interviews.length === 0) {
                resultsDiv.innerHTML = `
                    <div class="empty-state" style="background: rgba(255, 255, 255, 0.02); padding: 40px; border-radius: 12px; text-align: center;">
                        <h3>ðŸ“§ No Interview Emails Found</h3>
                        <p style="color: #86868b; margin: 16px 0;">No interview invitations detected in your recent emails.</p>
                        <div style="margin-top: 24px;">
                            <button class="btn-secondary" onclick="scanEmailsExtended(30)" style="margin-right: 12px;">
                                ðŸ” Scan Last 30 Days
                            </button>
                            <button class="btn-secondary" onclick="showEmailTips()">
                                ðŸ’¡ Email Detection Tips
                            </button>
                        </div>
                    </div>
                `;
                return;
            }
            
            let html = '<div class="results-header">ðŸŽ¯ Interview Invitations Found</div><div class="results-list">';
            interviews.forEach((interview, index) => {
                // Format the interview date and time
                const interviewDate = interview.interview_date || 'Date TBD';
                const interviewTime = interview.interview_time || 'Time TBD';
                const platform = interview.platform || 'Platform TBD';
                const interviewer = interview.interviewer || 'Interviewer TBD';
                const priority = interview.priority || 'normal';
                
                // Priority styling
                const priorityClass = priority === 'high' ? 'priority-high' : 
                                   priority === 'medium' ? 'priority-medium' : 'priority-normal';
                
                html += `
                    <div class="result-item enhanced-interview-item ${priorityClass}" style="animation-delay: ${index * 0.1}s">
                        <div class="interview-header">
                            <div class="company-info">
                                <h4 class="company-name">ðŸ¢ ${interview.company || 'Unknown Company'}</h4>
                                <p class="position-name">ðŸ“‹ ${interview.position || 'Unknown Position'}</p>
                            </div>
                            <div class="priority-badge ${priorityClass}">
                                ${priority.toUpperCase()}
                            </div>
                        </div>
                        
                        <div class="interview-details-grid">
                            <div class="detail-item">
                                <span class="detail-icon">ðŸ“…</span>
                                <div class="detail-content">
                                    <span class="detail-label">Interview Date</span>
                                    <span class="detail-value">${interviewDate}</span>
                                </div>
                            </div>
                            
                            <div class="detail-item">
                                <span class="detail-icon">â°</span>
                                <div class="detail-content">
                                    <span class="detail-label">Time</span>
                                    <span class="detail-value">${interviewTime}</span>
                                </div>
                            </div>
                            
                            <div class="detail-item">
                                <span class="detail-icon">ðŸ’»</span>
                                <div class="detail-content">
                                    <span class="detail-label">Platform</span>
                                    <span class="detail-value">${platform}</span>
                                </div>
                            </div>
                            
                            <div class="detail-item">
                                <span class="detail-icon">ðŸ‘¤</span>
                                <div class="detail-content">
                                    <span class="detail-label">Interviewer</span>
                                    <span class="detail-value">${interviewer}</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="interview-actions">
                            <button class="btn-prep" onclick="scheduleForInterview('${interview.company}', '${interviewDate}', '${interview.position}')">
                                ðŸŽ¯ Schedule Prep
                            </button>
                            <button class="btn-track" onclick="trackApplication('${interview.company}', '${interview.position}', 'interview_scheduled')">
                                ðŸ“Š Track Application
                            </button>
                            <button class="btn-details" onclick="viewInterviewDetails('${interview.id}')">
                                ðŸ‘ï¸ View Details
                            </button>
                        </div>
                    </div>
                `;
            });
            html += '</div>';
            resultsDiv.innerHTML = html;
        }

        // Track application function
        async function trackApplication(company, position, status) {
            try {
                const response = await fetch('/log-application', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        company: company,
                        position: position,
                        application_date: new Date().toISOString().split('T')[0],
                        status: status,
                        platform: 'Email Detection',
                        notes: 'Detected from email scan'
                    })
                });
                
                const data = await response.json();
                if (data.success) {
                    showNotification(`Application tracked: ${company} - ${position}`, 'success');
                } else {
                    showNotification('Failed to track application: ' + data.error, 'error');
                }
            } catch (error) {
                showNotification('Error tracking application: ' + error.message, 'error');
            }
        }

        // View interview details function
        function viewInterviewDetails(interviewId) {
            // For now, show a modal with interview details
            showNotification('Interview details feature coming soon!', 'info');
        }

        // Schedule for interview function with enhanced parameters
        function scheduleForInterview(company, date, position) {
            const message = `Schedule prep for ${position} at ${company} on ${date}`;
            showNotification(message, 'success');
        }
        
        // Show email detection tips
        function showEmailTips() {
            const modal = document.createElement('div');
            modal.className = 'interview-modal';
            modal.innerHTML = `
                <div class="modal-content">
                    <div class="modal-header">
                        <h2>ðŸ“§ Email Detection Guide</h2>
                        <button class="modal-close" onclick="closeModal()">&times;</button>
                    </div>
                    <div style="padding: 24px;">
                        <div style="margin-bottom: 24px;">
                            <h3>ðŸ” What We Look For</h3>
                            <p>The system scans your Gmail for emails containing these keywords:</p>
                            <ul style="margin: 12px 0; padding-left: 20px;">
                                <li><strong>Subject line:</strong> "interview", "phone call", "meeting", "video call", "screening"</li>
                                <li><strong>Email body:</strong> "interview", "schedule a call", "available for"</li>
                            </ul>
                        </div>
                        
                        <div style="margin-bottom: 24px;">
                            <h3>âœ… Emails That Get Detected</h3>
                            <div style="background: rgba(52, 199, 89, 0.1); padding: 12px; border-radius: 8px; margin: 8px 0;">
                                <strong>Subject:</strong> "Interview Invitation - Software Engineer"<br>
                                <strong>From:</strong> hr@company.com
                            </div>
                            <div style="background: rgba(52, 199, 89, 0.1); padding: 12px; border-radius: 8px; margin: 8px 0;">
                                <strong>Subject:</strong> "Phone Screen Opportunity"<br>
                                <strong>Body:</strong> "Are you available for a phone call..."
                            </div>
                        </div>
                        
                        <div style="margin-bottom: 24px;">
                            <h3>âŒ Emails That Don't Get Detected</h3>
                            <div style="background: rgba(255, 59, 48, 0.1); padding: 12px; border-radius: 8px; margin: 8px 0;">
                                <strong>Subject:</strong> "Thanks for applying"<br>
                                <strong>Body:</strong> "We received your application..."
                            </div>
                            <div style="background: rgba(255, 59, 48, 0.1); padding: 12px; border-radius: 8px; margin: 8px 0;">
                                <strong>Subject:</strong> "Application Update"<br>
                                <strong>Body:</strong> "Your application is under review..."
                            </div>
                        </div>
                        
                        <div>
                            <h3>ðŸ’¡ Tips to Get Better Results</h3>
                            <ul style="margin: 12px 0; padding-left: 20px;">
                                <li>Make sure you're logged into the correct Gmail account</li>
                                <li>Check if your interview emails contain the keywords above</li>
                                <li>Try scanning a longer time period (30+ days)</li>
                                <li>Look in your Gmail manually to see if you have interview emails</li>
                                <li>The system works best with formal interview invitations</li>
                            </ul>
                        </div>
                    </div>
                    <div class="form-actions">
                        <button class="btn-primary" onclick="closeModal()">Got it!</button>
                        <button class="btn-secondary" onclick="closeModal(); scanEmailsExtended(60);">Try 60 Days</button>
                    </div>
                </div>
            `;
            
            document.body.appendChild(modal);
            setTimeout(() => modal.classList.add('show'), 10);
        }

        // Generate questions for specific interview
        function generateQuestionsForInterview(company, position, type) {
            // Function removed - Question Generator feature disabled
            showNotification('Question Generator feature has been disabled', 'info');
        }

        // Display generated questions with staggered animation
        function displayQuestions(questions) {
            // Function removed - Question Generator feature disabled
        }

        // View performance dashboard with animated counters
        async function viewDashboard() {
            showLoading();
            try {
                const response = await fetch('/performance-stats');
                const data = await response.json();
                
                if (data.status === 'success') {
                    updatePerformanceStats(data.stats);
                    showNotification('Performance data updated!');
                } else {
                    showNotification('Failed to load performance data: ' + data.message, 'error');
                }
            } catch (error) {
                showNotification('Error loading dashboard: ' + error.message, 'error');
            }
            hideLoading();
        }

        // Update performance statistics with smooth animations
        function updatePerformanceStats(stats) {
            const totalElement = document.getElementById('total-interviews');
            const successElement = document.getElementById('success-rate');
            const avgElement = document.getElementById('avg-rating');
            
            if (!totalElement || !successElement || !avgElement) {
                console.error('Performance stats elements not found');
                return;
            }
            
            // Animate numbers with Apple-style easing
            animateValue(totalElement, 0, stats.total_interviews || 0, 800);
            animateValue(successElement, 0, Math.round(stats.success_rate || 0), 1000);
            
            // Animate average rating
            const avgRating = (stats.average_rating || 0);
            setTimeout(() => {
                const start = parseFloat(avgElement.textContent) || 0;
                const startTime = Date.now();
                const duration = 600;
                
                const timer = setInterval(() => {
                    const progress = Math.min((Date.now() - startTime) / duration, 1);
                    const value = (progress * (avgRating - start) + start);
                    avgElement.textContent = value.toFixed(1);
                    if (progress === 1) clearInterval(timer);
                }, 16);
            }, 600);
        }

        // Log an interview with enhanced modal
        function logInterview() {
            showInterviewModal();
        }

        // Show question banks section
        function showQuestionBanks() {
            const section = document.getElementById('questionBanks');
            section.style.display = section.style.display === 'none' ? 'block' : 'none';
            
            if (section.style.display === 'block') {
                section.scrollIntoView({ behavior: 'smooth' });
            }
        }

        // Generate custom questions based on filters
        async function generateCustomQuestions() {
            const industry = document.getElementById('industryFilter').value;
            const role = document.getElementById('roleFilter').value;
            const questionType = document.getElementById('questionTypeFilter').value;
            
            if (!industry && !role && !questionType) {
                showNotification('Please select at least one filter', 'warning');
                return;
            }

            const questionsDisplay = document.getElementById('customQuestions');
            questionsDisplay.innerHTML = '<div class="loading">ðŸ”„ Generating custom questions...</div>';

            try {
                let questions = [];
                
                if (industry) {
                    const response = await fetch(`/question-banks/industry/${industry}?type=${questionType}&count=5`);
                    const data = await response.json();
                    if (data.status === 'success') {
                        questions = questions.concat(data.questions);
                    }
                }
                
                if (role) {
                    const response = await fetch(`/question-banks/role/${role}?count=5`);
                    const data = await response.json();
                    if (data.status === 'success') {
                        questions = questions.concat(data.questions);
                    }
                }

                if (questions.length === 0) {
                    questionsDisplay.innerHTML = '<p>No questions found for your selected criteria. Try different filters.</p>';
                    return;
                }

                // Remove duplicates
                const uniqueQuestions = questions.filter((question, index, self) =>
                    index === self.findIndex(q => q.question === question.question)
                );

                displayCustomQuestions(uniqueQuestions);
                showNotification(`Generated ${uniqueQuestions.length} custom questions!`, 'success');
                
            } catch (error) {
                console.error('Error generating custom questions:', error);
                questionsDisplay.innerHTML = '<p>Error generating questions. Please try again.</p>';
                showNotification('Error generating questions', 'error');
            }
        }

        // Display custom questions
        function displayCustomQuestions(questions) {
            const questionsDisplay = document.getElementById('customQuestions');
            
            if (questions.length === 0) {
                questionsDisplay.innerHTML = '<p>No questions available for the selected criteria.</p>';
                return;
            }

            const questionsHTML = questions.map((q, index) => `
                <div class="question-item">
                    <div class="question-text">${q.question}</div>
                    <div class="question-meta">
                        <span class="question-category">${q.category || 'General'}</span>
                        <span>Question ${index + 1} of ${questions.length}</span>
                    </div>
                </div>
            `).join('');

            questionsDisplay.innerHTML = `
                <h3>ðŸ“‹ Your Custom Question Set</h3>
                <p>Found ${questions.length} questions matching your criteria</p>
                ${questionsHTML}
            `;
        }

        // Study Resources Functions
        function showStudyResources() {
            const section = document.getElementById('studyResources');
            section.style.display = section.style.display === 'none' ? 'block' : 'none';
            
            if (section.style.display === 'block') {
                section.scrollIntoView({ behavior: 'smooth' });
                loadStudyResources();
            }
        }

        async function loadStudyResources() {
            try {
                const response = await fetch('/study-resources');
                const data = await response.json();
                
                if (data.status === 'success') {
                    displayStudyResources(data.resources);
                }
            } catch (error) {
                console.error('Error loading study resources:', error);
                showNotification('Error loading study resources', 'error');
            }
        }

        function displayStudyResources(resources) {
            const container = document.getElementById('resourceCategories');
            
            let html = '';
            
            for (const [category, items] of Object.entries(resources)) {
                html += `
                    <div class="resource-category">
                        <h3 class="category-title">${formatCategoryName(category)}</h3>
                        <div class="resource-grid">
                `;
                
                items.forEach(resource => {
                    html += `
                        <div class="resource-card">
                            <div class="resource-header">
                                <h4 class="resource-name">${resource.name}</h4>
                                <span class="resource-difficulty">${resource.difficulty}</span>
                            </div>
                            <p class="resource-description">${resource.description}</p>
                            <div class="resource-details">
                                <span class="resource-category-tag">${resource.category}</span>
                                <span class="resource-best-for">Best for: ${resource.best_for}</span>
                            </div>
                            <a href="${resource.url}" target="_blank" rel="noopener noreferrer" class="resource-link">
                                Visit Resource â†’
                            </a>
                        </div>
                    `;
                });
                
                html += `
                        </div>
                    </div>
                `;
            }
            
            container.innerHTML = html;
        }

        function formatCategoryName(category) {
            const names = {
                'coding_practice': 'ðŸ’» Coding Practice',
                'learning_platforms': 'ðŸ“š Learning Platforms', 
                'system_design': 'ðŸ—ï¸ System Design',
                'interview_prep': 'ðŸŽ¯ Interview Preparation',
                'competitive_programming': 'ðŸ† Competitive Programming'
            };
            return names[category] || category;
        }

        // Company Guides Functions
        function showCompanyGuides() {
            const section = document.getElementById('companyGuides');
            section.style.display = section.style.display === 'none' ? 'block' : 'none';
            
            if (section.style.display === 'block') {
                section.scrollIntoView({ behavior: 'smooth' });
                loadCompanyGuides();
            }
        }

        async function loadCompanyGuides() {
            try {
                const response = await fetch('/company-guides');
                const data = await response.json();
                
                if (data.status === 'success') {
                    displayCompanyGuides(data.companies);
                }
            } catch (error) {
                console.error('Error loading company guides:', error);
                showNotification('Error loading company guides', 'error');
            }
        }

        async function displayCompanyGuides(companies) {
            const container = document.getElementById('companyGrid');
            
            let html = '';
            
            for (const company of companies) {
                try {
                    const response = await fetch(`/company-guides/${encodeURIComponent(company)}`);
                    const data = await response.json();
                    
                    if (data.status === 'success') {
                        const guide = data.guide;
                        html += createCompanyCard(guide);
                    }
                } catch (error) {
                    console.error(`Error loading guide for ${company}:`, error);
                }
            }
            
            container.innerHTML = html;
        }

        function createCompanyCard(guide) {
            const focusAreas = guide.focus_areas.slice(0, 3);
            const tips = guide.preparation_tips.slice(0, 3);
            
            return `
                <div class="company-card" onclick="showCompanyDetails('${guide.name}')">
                    <div class="company-header">
                        <div class="company-logo">${guide.logo}</div>
                        <h3 class="company-name">${guide.name}</h3>
                    </div>
                    
                    <div class="company-focus">
                        ${focusAreas.map(area => `<span class="focus-tag">${area}</span>`).join('')}
                    </div>
                    
                    <div class="company-tips">
                        ${tips.map(tip => `<div class="tip-item">${tip}</div>`).join('')}
                    </div>
                    
                    <div class="company-stats">
                        <div class="stat-item">
                            <div class="stat-value">${guide.interview_process?.onsite?.rounds?.length || 'N/A'}</div>
                            <div class="stat-label">Rounds</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value">${guide.technical_focus?.length || 0}</div>
                            <div class="stat-label">Tech Areas</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value">${guide.culture_values?.length || 0}</div>
                            <div class="stat-label">Values</div>
                        </div>
                    </div>
                </div>
            `;
        }

        function showCompanyDetails(companyName) {
            // For now, show a notification - later we can add a detailed modal
            showNotification(`Loading detailed guide for ${companyName}...`, 'info');
            // TODO: Implement detailed company guide modal
        }
        function showInternshipTracker() {
            const section = document.getElementById('internshipTracker');
            section.style.display = section.style.display === 'none' ? 'block' : 'none';
            
            if (section.style.display === 'block') {
                section.scrollIntoView({ behavior: 'smooth' });
                loadInternshipData();
            }
        }

        async function loadInternshipData() {
            try {
                // Load applications
                const response = await fetch('/internships');
                const data = await response.json();
                
                if (data.status === 'success') {
                    displayApplications(data.applications);
                    updateInternshipStats(data.applications);
                }
                
                // Load analytics
                const analyticsResponse = await fetch('/internships/analytics');
                const analyticsData = await analyticsResponse.json();
                
                if (analyticsData.status === 'success') {
                    updateAnalyticsDisplay(analyticsData.analytics);
                }
                
                // Load upcoming deadlines
                loadUpcomingDeadlines();
                
            } catch (error) {
                console.error('Error loading internship data:', error);
                showNotification('Error loading data', 'error');
            }
        }

        function displayApplications(applications) {
            const applicationsList = document.getElementById('applicationsList');
            
            if (applications.length === 0) {
                applicationsList.innerHTML = `
                    <div class="empty-state">
                        <h3>ðŸ“‹ No Applications Yet</h3>
                        <p>Start tracking your internship applications for better organization!</p>
                        <button onclick="showAddApplicationModal()" class="cta-button">Add Your First Application</button>
                    </div>
                `;
                return;
            }

            const applicationsHTML = applications.map(app => `
                <div class="application-item ${getDeadlineClass(app.deadline)}" onclick="viewApplicationDetails(${app.id})">
                    <div class="application-header">
                        <div>
                            <div class="application-title">${app.position_title}</div>
                            <div class="application-company">${app.company_name}</div>
                        </div>
                        <div class="application-status status-${app.status.toLowerCase().replace(' ', '-')}">${app.status}</div>
                    </div>
                    <div class="application-details">
                        <div><strong>Applied:</strong> ${app.application_date || 'Not yet'}</div>
                        <div><strong>Deadline:</strong> ${app.deadline || 'None set'}</div>
                        <div><strong>Priority:</strong> ${app.priority}</div>
                        <div><strong>Location:</strong> ${app.location || 'Not specified'}</div>
                        ${app.days_until_deadline !== undefined ? 
                            `<div><strong>Days Left:</strong> ${app.days_until_deadline > 0 ? app.days_until_deadline : 'Overdue'}</div>` : ''}
                    </div>
                </div>
            `).join('');

            applicationsList.innerHTML = applicationsHTML;
        }

        function getDeadlineClass(deadline) {
            if (!deadline) return '';
            
            const deadlineDate = new Date(deadline);
            const today = new Date();
            const daysUntil = Math.ceil((deadlineDate - today) / (1000 * 60 * 60 * 24));
            
            if (daysUntil < 0) return 'deadline-urgent';
            if (daysUntil <= 7) return 'deadline-soon';
            return '';
        }

        function updateInternshipStats(applications) {
            const totalApplications = applications.length;
            const responseReceived = applications.filter(app => app.status !== 'Applied' && app.status !== 'Not Applied').length;
            const responseRate = totalApplications > 0 ? Math.round((responseReceived / totalApplications) * 100) : 0;
            const upcomingDeadlines = applications.filter(app => {
                if (!app.deadline) return false;
                const deadlineDate = new Date(app.deadline);
                const today = new Date();
                const daysUntil = Math.ceil((deadlineDate - today) / (1000 * 60 * 60 * 24));
                return daysUntil >= 0 && daysUntil <= 7;
            }).length;
            const activeApplications = applications.filter(app => 
                ['Applied', 'Under Review', 'Interview Scheduled'].includes(app.status)
            ).length;

            document.getElementById('totalApplications').textContent = totalApplications;
            document.getElementById('responseRate').textContent = `${responseRate}%`;
            document.getElementById('upcomingDeadlines').textContent = upcomingDeadlines;
            document.getElementById('activeApplications').textContent = activeApplications;
        }

        async function loadUpcomingDeadlines() {
            try {
                const response = await fetch('/internships/deadlines?days=7');
                const data = await response.json();
                
                if (data.status === 'success') {
                    displayUpcomingDeadlines(data.deadlines);
                }
            } catch (error) {
                console.error('Error loading deadlines:', error);
            }
        }

        function displayUpcomingDeadlines(deadlines) {
            const deadlinesList = document.getElementById('upcomingDeadlinesList');
            
            if (deadlines.length === 0) {
                deadlinesList.innerHTML = '<p>No upcoming deadlines in the next 7 days</p>';
                return;
            }

            const deadlinesHTML = deadlines.map(deadline => {
                const deadlineDate = new Date(deadline.deadline);
                const today = new Date();
                const daysUntil = Math.ceil((deadlineDate - today) / (1000 * 60 * 60 * 24));
                
                return `
                    <div class="deadline-item">
                        <div>
                            <strong>${deadline.company_name}</strong> - ${deadline.position_title}
                        </div>
                        <div>
                            ${daysUntil === 0 ? 'Today!' : daysUntil === 1 ? 'Tomorrow' : `${daysUntil} days`}
                        </div>
                    </div>
                `;
            }).join('');

            deadlinesList.innerHTML = deadlinesHTML;
        }

        function showAddApplicationModal() {
            document.getElementById('addApplicationModal').style.display = 'block';
            // Set today's date as default
            document.getElementById('applicationDate').valueAsDate = new Date();
        }

        function closeAddApplicationModal() {
            document.getElementById('addApplicationModal').style.display = 'none';
            document.getElementById('addApplicationForm').reset();
        }

        async function addNewApplication(event) {
            event.preventDefault();
            
            const formData = new FormData(event.target);
            const applicationData = Object.fromEntries(formData.entries());
            
            try {
                const response = await fetch('/internships', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(applicationData)
                });
                
                const data = await response.json();
                
                if (data.status === 'success') {
                    showNotification('Application added successfully!', 'success');
                    closeAddApplicationModal();
                    loadInternshipData(); // Refresh the data
                } else {
                    showNotification('Error adding application', 'error');
                }
            } catch (error) {
                console.error('Error adding application:', error);
                showNotification('Error adding application', 'error');
            }
        }

        async function importExistingData() {
            if (confirm('This will import your existing internship data. Continue?')) {
                try {
                    const response = await fetch('/internships/bulk-import', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify({
                            applications: [] // We'll use the Python script for this
                        })
                    });
                    
                    showNotification('Please run the import script: python import_internships.py', 'info');
                    
                } catch (error) {
                    console.error('Error importing data:', error);
                    showNotification('Error importing data', 'error');
                }
            }
        }

        async function syncEmailsForInternships() {
            try {
                showNotification('ðŸ”„ Scanning emails for internship updates...', 'info');
                
                const response = await fetch('/internships/sync-emails', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        limit: 100  // Scan last 100 emails
                    })
                });
                
                const data = await response.json();
                
                if (data.status === 'success') {
                    const { updates } = data;
                    let message = `âœ… Email sync complete!\n`;
                    message += `ðŸ“§ Processed: ${updates.processed} emails\n`;
                    message += `ðŸ”„ Updated: ${updates.updated} applications\n`;
                    message += `âž• New: ${updates.new_applications} applications`;
                    
                    if (updates.errors && updates.errors.length > 0) {
                        message += `\nâš ï¸ Errors: ${updates.errors.length}`;
                    }
                    
                    showNotification(message, 'success');
                    
                    // Refresh the application data
                    loadInternshipData();
                } else {
                    showNotification(`Error syncing emails: ${data.message}`, 'error');
                }
                
            } catch (error) {
                console.error('Error syncing emails:', error);
                showNotification('Failed to sync emails', 'error');
            }
        }

        async function filterApplications() {
            const statusFilter = document.getElementById('statusFilter').value;
            
            try {
                const url = statusFilter ? `/internships?status=${encodeURIComponent(statusFilter)}` : '/internships';
                const response = await fetch(url);
                const data = await response.json();
                
                if (data.status === 'success') {
                    displayApplications(data.applications);
                }
            } catch (error) {
                console.error('Error filtering applications:', error);
            }
        }

        async function searchApplications() {
            const searchTerm = document.getElementById('searchApplications').value;
            
            if (searchTerm.length < 2) {
                loadInternshipData(); // Reset to all applications
                return;
            }
            
            try {
                const response = await fetch(`/internships/search?q=${encodeURIComponent(searchTerm)}`);
                const data = await response.json();
                
                if (data.status === 'success') {
                    displayApplications(data.applications);
                }
            } catch (error) {
                console.error('Error searching applications:', error);
            }
        }

        function viewApplicationDetails(applicationId) {
            // This could open a detailed view modal
            showNotification(`Viewing details for application ${applicationId}`, 'info');
        }

        function showInterviewModal() {
            const modal = document.createElement('div');
            modal.className = 'interview-modal';
            modal.innerHTML = `
                <div class="modal-content">
                    <div class="modal-header">
                        <h2>ðŸ“Š Log Interview Performance</h2>
                        <button class="modal-close" onclick="closeModal()">&times;</button>
                    </div>
                    <form class="interview-form" onsubmit="submitInterviewForm(event)">
                        <div class="form-section">
                            <h3>ðŸ“ Basic Information</h3>
                            <div class="form-row">
                                <input type="text" id="company" placeholder="Company Name" required>
                                <input type="text" id="position" placeholder="Position Title" required>
                            </div>
                            <div class="form-row">
                                <select id="interview_type" required>
                                    <option value="">Interview Type</option>
                                    <option value="technical">Technical</option>
                                    <option value="behavioral">Behavioral</option>
                                    <option value="screening">Screening</option>
                                    <option value="final">Final Round</option>
                                    <option value="panel">Panel</option>
                                </select>
                                <select id="outcome" required>
                                    <option value="">Outcome</option>
                                    <option value="success">Success</option>
                                    <option value="failed">Failed</option>
                                    <option value="pending">Pending</option>
                                    <option value="withdrew">Withdrew</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-section">
                            <h3>â­ Performance Ratings</h3>
                            <div class="rating-grid">
                                <div class="rating-item">
                                    <label>Overall Rating</label>
                                    <div class="star-rating" data-rating="overall_rating">
                                        ${generateStarRating('overall_rating')}
                                    </div>
                                </div>
                                <div class="rating-item">
                                    <label>Technical Score</label>
                                    <div class="star-rating" data-rating="technical_score">
                                        ${generateStarRating('technical_score')}
                                    </div>
                                </div>
                                <div class="rating-item">
                                    <label>Communication</label>
                                    <div class="star-rating" data-rating="communication_score">
                                        ${generateStarRating('communication_score')}
                                    </div>
                                </div>
                                <div class="rating-item">
                                    <label>Cultural Fit</label>
                                    <div class="star-rating" data-rating="cultural_fit_score">
                                        ${generateStarRating('cultural_fit_score')}
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="form-section">
                            <h3>ðŸ“‹ Interview Details</h3>
                            <div class="form-row">
                                <input type="number" id="duration" placeholder="Duration (minutes)" min="15" max="300">
                                <select id="difficulty">
                                    <option value="">Difficulty</option>
                                    <option value="easy">Easy</option>
                                    <option value="medium">Medium</option>
                                    <option value="hard">Hard</option>
                                    <option value="extreme">Extreme</option>
                                </select>
                                <input type="number" id="interviewer_count" placeholder="# Interviewers" min="1" max="10">
                            </div>
                        </div>

                        <div class="form-section">
                            <h3>ðŸ’ª Strengths & Areas for Improvement</h3>
                            <textarea id="strengths" placeholder="What went well? (separate items with commas)"></textarea>
                            <textarea id="weaknesses" placeholder="Areas for improvement (separate items with commas)"></textarea>
                        </div>

                        <div class="form-section">
                            <h3>ðŸ“š Topics & Questions</h3>
                            <textarea id="topics_covered" placeholder="Topics covered (separate with commas)"></textarea>
                            <textarea id="questions_asked" placeholder="Key questions asked"></textarea>
                        </div>

                        <div class="form-section">
                            <h3>ðŸ“‹ Follow-up Actions</h3>
                            <textarea id="follow_up_actions" placeholder="Next steps, thank you notes, etc."></textarea>
                        </div>

                        <div class="form-actions">
                            <button type="button" class="btn-secondary" onclick="closeModal()">Cancel</button>
                            <button type="submit" class="btn-primary">Save Interview</button>
                        </div>
                    </form>
                </div>
            `;
            
            document.body.appendChild(modal);
            setTimeout(() => modal.classList.add('show'), 10);
            
            // Initialize star ratings
            initializeStarRatings();
        }

        function generateStarRating(fieldName) {
            let stars = '';
            for (let i = 1; i <= 5; i++) {
                stars += `<span class="star" data-value="${i}" onclick="setRating('${fieldName}', ${i})">â˜…</span>`;
            }
            return stars;
        }

        function initializeStarRatings() {
            document.querySelectorAll('.star').forEach(star => {
                star.addEventListener('mouseover', (e) => {
                    const rating = e.target.dataset.value;
                    const container = e.target.closest('.star-rating');
                    highlightStars(container, rating);
                });
                
                star.addEventListener('mouseout', (e) => {
                    const container = e.target.closest('.star-rating');
                    const currentRating = container.dataset.currentRating || 0;
                    highlightStars(container, currentRating);
                });
            });
        }

        function setRating(fieldName, rating) {
            const container = document.querySelector(`[data-rating="${fieldName}"]`);
            container.dataset.currentRating = rating;
            highlightStars(container, rating);
        }

        function highlightStars(container, rating) {
            const stars = container.querySelectorAll('.star');
            stars.forEach((star, index) => {
                if (index < rating) {
                    star.classList.add('active');
                } else {
                    star.classList.remove('active');
                }
            });
        }

        function closeModal() {
            const modal = document.querySelector('.interview-modal');
            if (modal) {
                modal.classList.remove('show');
                setTimeout(() => modal.remove(), 300);
            }
        }

        async function submitInterviewForm(event) {
            event.preventDefault();
            
            const formData = {
                company: document.getElementById('company').value,
                position: document.getElementById('position').value,
                interview_type: document.getElementById('interview_type').value,
                outcome: document.getElementById('outcome').value,
                rating: parseInt(document.querySelector('[data-rating="overall_rating"]').dataset.currentRating) || 0,
                technical_score: parseInt(document.querySelector('[data-rating="technical_score"]').dataset.currentRating) || 0,
                communication_score: parseInt(document.querySelector('[data-rating="communication_score"]').dataset.currentRating) || 0,
                cultural_fit_score: parseInt(document.querySelector('[data-rating="cultural_fit_score"]').dataset.currentRating) || 0,
                duration: parseInt(document.getElementById('duration').value) || 60,
                difficulty: document.getElementById('difficulty').value || 'medium',
                interviewer_count: parseInt(document.getElementById('interviewer_count').value) || 1,
                strengths: document.getElementById('strengths').value.split(',').map(s => s.trim()).filter(s => s),
                weaknesses: document.getElementById('weaknesses').value.split(',').map(s => s.trim()).filter(s => s),
                topics_covered: document.getElementById('topics_covered').value.split(',').map(s => s.trim()).filter(s => s),
                questions_asked: document.getElementById('questions_asked').value.split('\n').map(s => s.trim()).filter(s => s),
                follow_up_actions: document.getElementById('follow_up_actions').value.split(',').map(s => s.trim()).filter(s => s),
                date: new Date().toISOString()
            };

            await submitInterviewLog(
                formData.company, formData.position, formData.interview_type, 
                formData.outcome, formData.rating, formData
            );
            
            closeModal();
        }

        // Submit interview log with enhanced data
        async function submitInterviewLog(company, position, type, outcome, rating, additionalData = {}) {
            showLoading();
            try {
                const requestData = {
                    company: company,
                    position: position,
                    interview_type: type,
                    outcome: outcome,
                    rating: rating,
                    ...additionalData
                };

                const response = await fetch('/log-interview', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(requestData)
                });
                
                const data = await response.json();
                
                if (data.status === 'success') {
                    showNotification('Interview logged successfully! ðŸŽ‰');
                    if (data.result && data.result.insights) {
                        showInsights(data.result.insights, data.result.recommendations);
                    }
                    viewDashboard(); // Refresh stats
                } else {
                    showNotification('Failed to log interview: ' + data.message, 'error');
                }
            } catch (error) {
                showNotification('Error logging interview: ' + error.message, 'error');
            }
            hideLoading();
        }

        function showInsights(insights, recommendations) {
            const modal = document.createElement('div');
            modal.className = 'insights-modal';
            modal.innerHTML = `
                <div class="modal-content">
                    <div class="modal-header">
                        <h2>ðŸ’¡ Interview Insights</h2>
                        <button class="modal-close" onclick="closeInsightsModal()">&times;</button>
                    </div>
                    <div class="insights-content">
                        <div class="insights-section">
                            <h3>ðŸ“Š Performance Analysis</h3>
                            <ul>
                                ${insights.map(insight => `<li>${insight}</li>`).join('')}
                            </ul>
                        </div>
                        <div class="insights-section">
                            <h3>ðŸŽ¯ Recommendations</h3>
                            <ul>
                                ${recommendations.map(rec => `<li>${rec}</li>`).join('')}
                            </ul>
                        </div>
                    </div>
                    <div class="form-actions">
                        <button class="btn-primary" onclick="closeInsightsModal()">Got it!</button>
                    </div>
                </div>
            `;
            
            document.body.appendChild(modal);
            setTimeout(() => modal.classList.add('show'), 10);
        }

        function closeInsightsModal() {
            const modal = document.querySelector('.insights-modal');
            if (modal) {
                modal.classList.remove('show');
                setTimeout(() => modal.remove(), 300);
            }
        }

        // Placeholder functions with better messaging
        function showEmailSettings() {
            showNotification('Email settings coming in next update', 'info');
        }

        function showQuestionHistory() {
            showNotification('Question Generator feature has been disabled', 'info');
        }

        function viewAnalytics() {
            // Navigate to the analytics page
            window.location.href = '/analytics';
        }
        
        // Mock Interview Functions
        let currentSession = null;
        let currentQuestionIndex = 0;
        let sessionTimer = null;
        let startTime = null;
        
        function showMockInterview() {
            hideAllSections();
            const section = document.getElementById('mockInterview');
            section.style.display = 'block';
            section.scrollIntoView({ behavior: 'smooth' });
            
            // Reset to configuration view
            document.getElementById('interviewConfig').style.display = 'block';
            document.getElementById('interviewSession').style.display = 'none';
            document.getElementById('interviewResults').style.display = 'none';
        }
        
        async function startMockInterview() {
            const interviewType = document.getElementById('interviewType').value;
            const difficulty = document.getElementById('difficultyLevel').value;
            const company = document.getElementById('targetCompany').value;
            const role = document.getElementById('targetRole').value;
            
            if (!interviewType || !difficulty) {
                showNotification('Please select interview type and difficulty level', 'error');
                return;
            }
            
            try {
                showNotification('Starting your mock interview...', 'info');
                
                const response = await fetch('/mock-interview/start', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        type: interviewType,
                        difficulty: difficulty,
                        company: company,
                        role: role
                    })
                });
                
                const data = await response.json();
                
                if (data.status === 'success') {
                    currentSession = data.session;
                    currentQuestionIndex = 0;
                    startInterviewSession();
                } else {
                    showNotification(data.message || 'Failed to start interview', 'error');
                }
            } catch (error) {
                console.error('Error starting interview:', error);
                showNotification('Failed to start interview. Please try again.', 'error');
            }
        }
        
        function startInterviewSession() {
            // Hide config, show session
            document.getElementById('interviewConfig').style.display = 'none';
            document.getElementById('interviewSession').style.display = 'block';
            
            // Start timer
            startTime = Date.now();
            startTimer();
            
            // Load first question
            loadCurrentQuestion();
        }
        
        function startTimer() {
            sessionTimer = setInterval(() => {
                const elapsed = Math.floor((Date.now() - startTime) / 1000);
                const minutes = Math.floor(elapsed / 60);
                const seconds = elapsed % 60;
                document.getElementById('timerDisplay').textContent = 
                    `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            }, 1000);
        }
        
        function loadCurrentQuestion() {
            if (!currentSession || currentQuestionIndex >= currentSession.questions.length) {
                endInterview();
                return;
            }
            
            const question = currentSession.questions[currentQuestionIndex];
            const totalQuestions = currentSession.questions.length;
            
            // Update progress
            const progress = ((currentQuestionIndex + 1) / totalQuestions) * 100;
            document.getElementById('progressFill').style.width = `${progress}%`;
            document.getElementById('progressText').textContent = 
                `Question ${currentQuestionIndex + 1} of ${totalQuestions}`;
            
            // Display question
            document.getElementById('currentQuestion').textContent = question;
            document.getElementById('questionMeta').textContent = 
                `${currentSession.type} â€¢ ${currentSession.difficulty}`;
            
            // Clear previous answer and feedback
            document.getElementById('answerInput').value = '';
            document.getElementById('liveFeedback').style.display = 'none';
        }
        
        async function submitAnswer() {
            const answer = document.getElementById('answerInput').value.trim();
            
            if (!answer) {
                showNotification('Please provide an answer before submitting', 'error');
                return;
            }
            
            try {
                showNotification('Evaluating your answer...', 'info');
                
                const responseTime = Math.floor((Date.now() - startTime) / 1000);
                
                const response = await fetch('/mock-interview/submit-answer', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        session_id: currentSession.id,
                        question_index: currentQuestionIndex,
                        answer: answer,
                        response_time: responseTime
                    })
                });
                
                const data = await response.json();
                
                if (data.status === 'success') {
                    displayFeedback(data.feedback);
                    
                    // Store response in session
                    if (!currentSession.responses) {
                        currentSession.responses = [];
                    }
                    currentSession.responses.push(data.feedback);
                } else {
                    showNotification(data.message || 'Failed to evaluate answer', 'error');
                }
            } catch (error) {
                console.error('Error submitting answer:', error);
                showNotification('Failed to evaluate answer. Moving to next question.', 'error');
                nextQuestion();
            }
        }
        
        function displayFeedback(feedback) {
            const feedbackDiv = document.getElementById('liveFeedback');
            const contentDiv = document.getElementById('feedbackContent');
            
            let feedbackHTML = `<div class="feedback-score">Score: ${feedback.score || feedback.feedback?.score || 'N/A'}/10</div>`;
            
            const feedbackData = feedback.feedback || feedback;
            
            if (feedbackData.strengths && feedbackData.strengths.length > 0) {
                feedbackHTML += `
                    <div class="feedback-section">
                        <strong>ðŸ’ª Strengths:</strong>
                        <ul>${feedbackData.strengths.map(s => `<li>${s}</li>`).join('')}</ul>
                    </div>
                `;
            }
            
            if (feedbackData.improvements && feedbackData.improvements.length > 0) {
                feedbackHTML += `
                    <div class="feedback-section">
                        <strong>ðŸŽ¯ Areas for Improvement:</strong>
                        <ul>${feedbackData.improvements.map(i => `<li>${i}</li>`).join('')}</ul>
                    </div>
                `;
            }
            
            if (feedbackData.suggestions && feedbackData.suggestions.length > 0) {
                feedbackHTML += `
                    <div class="feedback-section">
                        <strong>ðŸ’¡ Suggestions:</strong>
                        <ul>${feedbackData.suggestions.map(s => `<li>${s}</li>`).join('')}</ul>
                    </div>
                `;
            }
            
            contentDiv.innerHTML = feedbackHTML;
            feedbackDiv.style.display = 'block';
        }
        
        function nextQuestion() {
            currentQuestionIndex++;
            document.getElementById('liveFeedback').style.display = 'none';
            
            if (currentQuestionIndex >= currentSession.questions.length) {
                endInterview();
            } else {
                loadCurrentQuestion();
            }
        }
        
        function skipQuestion() {
            // Record as skipped
            if (!currentSession.responses) {
                currentSession.responses = [];
            }
            currentSession.responses.push({
                question_index: currentQuestionIndex,
                answer: '[SKIPPED]',
                feedback: {
                    score: 0,
                    strengths: [],
                    improvements: ['Question was skipped'],
                    suggestions: ['Try to answer all questions for better practice']
                }
            });
            
            nextQuestion();
        }
        
        async function endInterview() {
            // Stop timer
            if (sessionTimer) {
                clearInterval(sessionTimer);
                sessionTimer = null;
            }
            
            try {
                showNotification('Generating your interview report...', 'info');
                
                const response = await fetch('/mock-interview/report', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(currentSession)
                });
                
                const data = await response.json();
                
                if (data.status === 'success') {
                    displayResults(data.report);
                } else {
                    showNotification(data.message || 'Failed to generate report', 'error');
                }
            } catch (error) {
                console.error('Error generating report:', error);
                showNotification('Failed to generate report', 'error');
            }
        }
        
        function displayResults(report) {
            // Hide session, show results
            document.getElementById('interviewSession').style.display = 'none';
            document.getElementById('interviewResults').style.display = 'block';
            
            // Update overall score
            document.getElementById('overallScore').textContent = `${report.average_score}/10`;
            
            // Update strengths
            const strengthsList = document.getElementById('strengthsList');
            strengthsList.innerHTML = report.strengths.map(s => `<li>${s}</li>`).join('');
            
            // Update improvements
            const improvementsList = document.getElementById('improvementsList');
            improvementsList.innerHTML = report.improvements.map(i => `<li>${i}</li>`).join('');
            
            // Update recommendations
            const recommendationsList = document.getElementById('recommendationsList');
            recommendationsList.innerHTML = report.recommendations.map(r => `<li>${r}</li>`).join('');
            
            // Simple performance chart
            const chartDiv = document.getElementById('performanceChart');
            chartDiv.innerHTML = `
                <div class="simple-chart">
                    <div class="chart-bar">
                        <div class="chart-label">Completion Rate</div>
                        <div class="chart-progress">
                            <div class="chart-fill" style="width: ${report.completion_rate}%"></div>
                        </div>
                        <div class="chart-value">${Math.round(report.completion_rate)}%</div>
                    </div>
                    <div class="chart-bar">
                        <div class="chart-label">Average Score</div>
                        <div class="chart-progress">
                            <div class="chart-fill" style="width: ${(report.average_score / 10) * 100}%"></div>
                        </div>
                        <div class="chart-value">${report.average_score}/10</div>
                    </div>
                </div>
            `;
            
            showNotification('Interview completed! Check your performance report.', 'success');
        }
        
        function startNewInterview() {
            currentSession = null;
            currentQuestionIndex = 0;
            if (sessionTimer) {
                clearInterval(sessionTimer);
                sessionTimer = null;
            }
            
            // Reset to configuration
            document.getElementById('interviewResults').style.display = 'none';
            document.getElementById('interviewConfig').style.display = 'block';
            
            // Clear form
            document.getElementById('interviewType').value = '';
            document.getElementById('difficultyLevel').value = '';
            document.getElementById('targetCompany').value = '';
            document.getElementById('targetRole').value = '';
        }
        
        function downloadReport() {
            if (!currentSession) return;
            
            // Create a simple text report
            const report = `
Mock Interview Report
Generated: ${new Date().toLocaleDateString()}

Interview Type: ${currentSession.type}
Difficulty: ${currentSession.difficulty}
${currentSession.company ? `Company: ${currentSession.company}` : ''}
${currentSession.role ? `Role: ${currentSession.role}` : ''}

Performance Summary:
- Questions Answered: ${currentSession.responses?.length || 0}/${currentSession.questions?.length || 0}
- Average Score: ${document.getElementById('overallScore').textContent}

Keep practicing and good luck with your real interviews!
            `.trim();
            
            const blob = new Blob([report], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `mock-interview-report-${Date.now()}.txt`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            
            showNotification('Report downloaded successfully!', 'success');
        }
        
        function shareResults() {
            if (!currentSession) return;
            
            const shareText = `Just completed a ${currentSession.type} mock interview! Score: ${document.getElementById('overallScore').textContent} ðŸŽ¯`;
            
            if (navigator.share) {
                navigator.share({
                    title: 'Mock Interview Results',
                    text: shareText,
                    url: window.location.href
                });
            } else {
                // Fallback to clipboard
                navigator.clipboard.writeText(shareText).then(() => {
                    showNotification('Results copied to clipboard!', 'success');
                });
            }
        }
        
        function showPracticeTips() {
            showNotification(`
                ðŸ’¡ Mock Interview Tips:
                â€¢ Practice regularly to build confidence
                â€¢ Use the STAR method for behavioral questions
                â€¢ Think out loud during technical problems
                â€¢ Take your time and ask clarifying questions
                â€¢ Review feedback carefully and implement suggestions
            `, 'info');
        }
        
        // Gmail Sync Functions
        async function syncGmailData() {
            showLoading();
            try {
                showNotification('ðŸ”„ Syncing your Gmail with application tracker...', 'info');
                
                const response = await fetch('/sync-gmail-applications', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        days_back: 30  // Sync last 30 days
                    })
                });
                
                const data = await response.json();
                
                if (data.success) {
                    showNotification(`âœ… Gmail sync complete! 
                    
ðŸ“§ ${data.data.processed_emails} emails processed
âž• ${data.data.new_applications} new applications added  
ðŸ”„ ${data.data.updated_applications} applications updated
                    
Your analytics will now show real data from your Gmail!`, 'success');
                    
                    // Refresh the dashboard to show new data
                    setTimeout(() => {
                        window.location.reload();
                    }, 3000);
                } else {
                    showNotification('âŒ Gmail sync failed: ' + data.error, 'error');
                }
            } catch (error) {
                showNotification('âŒ Error during Gmail sync: ' + error.message, 'error');
            }
            hideLoading();
        }
        
        async function autoPopulateFromGmail() {
            if (!confirm('This will scan your Gmail and populate the application tracker with real data from your emails. This may take a moment. Continue?')) {
                return;
            }
            
            showLoading();
            try {
                showNotification('ðŸ¤– Auto-populating application tracker from Gmail...', 'info');
                
                const response = await fetch('/auto-populate-from-gmail', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        days_back: 90,  // Look back 3 months for initial population
                        clear_sample_data: false
                    })
                });
                
                const data = await response.json();
                
                if (data.success) {
                    showNotification(`ðŸŽ‰ Auto-population complete!
                    
ðŸ“§ Scanned ${data.details.emails_scanned} emails
âž• Added ${data.details.new_applications} applications
ðŸ”„ Updated ${data.details.updated_applications} existing applications
                    
Your tracker now contains real data from your Gmail!`, 'success');
                    
                    // Refresh to show new data
                    setTimeout(() => {
                        window.location.reload();
                    }, 3000);
                } else {
                    showNotification('âŒ Auto-population failed: ' + data.error, 'error');
                }
            } catch (error) {
                showNotification('âŒ Error during auto-population: ' + error.message, 'error');
            }
            hideLoading();
        }
        
        async function getGmailSyncStatus() {
            try {
                const response = await fetch('/gmail-sync-status');
                const data = await response.json();
                
                if (data.success) {
                    const summary = data.sync_summary;
                    showNotification(`ðŸ“Š Gmail Sync Status:
                    
ðŸ“‹ Total Applications: ${summary.total_applications || 0}
ðŸ¢ Companies: ${summary.total_companies || 0}  
ðŸ“ž Interviews: ${summary.interview_invitations || 0}
ðŸ“ˆ Response Rate: ${summary.response_rate || 0}%
â° Last Sync: ${summary.last_sync ? new Date(summary.last_sync).toLocaleString() : 'Never'}`, 'info');
                } else {
                    showNotification('Error getting sync status: ' + data.error, 'error');
                }
            } catch (error) {
                showNotification('Error getting sync status: ' + error.message, 'error');
            }
        }

        // Enhanced page initialization
        document.addEventListener('DOMContentLoaded', function() {
            // Add scroll animations for feature cards
            const observerOptions = {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.opacity = '1';
                        entry.target.style.transform = 'translateY(0)';
                    }
                });
            }, observerOptions);

            // Observe feature cards and dashboard cards
            document.querySelectorAll('.feature-card, .dashboard-card').forEach(card => {
                card.style.opacity = '0';
                card.style.transform = 'translateY(30px)';
                card.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
                observer.observe(card);
            });

            // Load dashboard data
            setTimeout(() => {
                viewDashboard();
            }, 500);
        });
        
        // Navigation function for Study Resources
        function navigateToStudyResources() {
            console.log('Navigating to study resources...');
            try {
                window.location.href = '/study-resources';
            } catch (error) {
                console.error('Navigation error:', error);
                // Fallback method
                window.open('/study-resources', '_self');
            }
        }
    </script>
</body>
</html>
